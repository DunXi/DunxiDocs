import{_ as s,c as n,o as a,a as l}from"./app.dec107d8.js";const F=JSON.parse('{"title":"MySQL数据库","description":"","frontmatter":{},"headers":[{"level":2,"title":"一、基础概念","slug":"一、基础概念","link":"#一、基础概念","children":[{"level":3,"title":"1. 数据库基础","slug":"_1-数据库基础","link":"#_1-数据库基础","children":[]},{"level":3,"title":"2. SQL基础","slug":"_2-sql基础","link":"#_2-sql基础","children":[]}]},{"level":2,"title":"二、数据库与表操作","slug":"二、数据库与表操作","link":"#二、数据库与表操作","children":[{"level":3,"title":"1. 数据库操作","slug":"_1-数据库操作","link":"#_1-数据库操作","children":[]},{"level":3,"title":"2. 表操作","slug":"_2-表操作","link":"#_2-表操作","children":[]},{"level":3,"title":"3. 数据类型","slug":"_3-数据类型","link":"#_3-数据类型","children":[]}]},{"level":2,"title":"三、数据操作","slug":"三、数据操作","link":"#三、数据操作","children":[{"level":3,"title":"1. 插入数据","slug":"_1-插入数据","link":"#_1-插入数据","children":[]},{"level":3,"title":"2. 更新数据","slug":"_2-更新数据","link":"#_2-更新数据","children":[]},{"level":3,"title":"3. 删除数据","slug":"_3-删除数据","link":"#_3-删除数据","children":[]}]},{"level":2,"title":"四、数据查询","slug":"四、数据查询","link":"#四、数据查询","children":[{"level":3,"title":"1. 基础查询","slug":"_1-基础查询","link":"#_1-基础查询","children":[]},{"level":3,"title":"2. 排序","slug":"_2-排序","link":"#_2-排序","children":[]},{"level":3,"title":"3. 过滤数据","slug":"_3-过滤数据","link":"#_3-过滤数据","children":[]},{"level":3,"title":"4. 通配符过滤","slug":"_4-通配符过滤","link":"#_4-通配符过滤","children":[]},{"level":3,"title":"5. 正则表达式","slug":"_5-正则表达式","link":"#_5-正则表达式","children":[]}]},{"level":2,"title":"五、高级查询技术","slug":"五、高级查询技术","link":"#五、高级查询技术","children":[{"level":3,"title":"1. 计算字段","slug":"_1-计算字段","link":"#_1-计算字段","children":[]},{"level":3,"title":"2. 数据处理函数","slug":"_2-数据处理函数","link":"#_2-数据处理函数","children":[]},{"level":3,"title":"3. 汇总数据","slug":"_3-汇总数据","link":"#_3-汇总数据","children":[]},{"level":3,"title":"4. 分组数据","slug":"_4-分组数据","link":"#_4-分组数据","children":[]},{"level":3,"title":"5. 子查询","slug":"_5-子查询","link":"#_5-子查询","children":[]},{"level":3,"title":"6. 联结表","slug":"_6-联结表","link":"#_6-联结表","children":[]},{"level":3,"title":"7. 高级联结","slug":"_7-高级联结","link":"#_7-高级联结","children":[]},{"level":3,"title":"8. 组合查询","slug":"_8-组合查询","link":"#_8-组合查询","children":[]},{"level":3,"title":"9. 全文本搜索","slug":"_9-全文本搜索","link":"#_9-全文本搜索","children":[]}]},{"level":2,"title":"六、视图、存储过程和触发器","slug":"六、视图、存储过程和触发器","link":"#六、视图、存储过程和触发器","children":[{"level":3,"title":"1. 视图","slug":"_1-视图","link":"#_1-视图","children":[]},{"level":3,"title":"2. 存储过程","slug":"_2-存储过程","link":"#_2-存储过程","children":[]},{"level":3,"title":"3. 游标","slug":"_3-游标","link":"#_3-游标","children":[]},{"level":3,"title":"4. 触发器","slug":"_4-触发器","link":"#_4-触发器","children":[]}]},{"level":2,"title":"七、事务与安全","slug":"七、事务与安全","link":"#七、事务与安全","children":[{"level":3,"title":"1. 事务处理","slug":"_1-事务处理","link":"#_1-事务处理","children":[]},{"level":3,"title":"2. 安全管理","slug":"_2-安全管理","link":"#_2-安全管理","children":[]}]},{"level":2,"title":"八、性能优化与维护","slug":"八、性能优化与维护","link":"#八、性能优化与维护","children":[{"level":3,"title":"1. 索引","slug":"_1-索引","link":"#_1-索引","children":[]},{"level":3,"title":"2. 存储引擎","slug":"_2-存储引擎","link":"#_2-存储引擎","children":[]},{"level":3,"title":"3. 数据库维护","slug":"_3-数据库维护","link":"#_3-数据库维护","children":[]},{"level":3,"title":"4. 日志文件","slug":"_4-日志文件","link":"#_4-日志文件","children":[]},{"level":3,"title":"5. 全球化和本地化","slug":"_5-全球化和本地化","link":"#_5-全球化和本地化","children":[]}]},{"level":2,"title":"九、性能优化技巧","slug":"九、性能优化技巧","link":"#九、性能优化技巧","children":[]},{"level":2,"title":"十、附录","slug":"十、附录","link":"#十、附录","children":[{"level":3,"title":"1. 常用命令速查","slug":"_1-常用命令速查","link":"#_1-常用命令速查","children":[]},{"level":3,"title":"2. MySQL保留字(部分)","slug":"_2-mysql保留字-部分","link":"#_2-mysql保留字-部分","children":[]}]}],"relativePath":"database/mysql.md","lastUpdated":1767349076000}'),p={name:"database/mysql.md"},e=l(`<h1 id="mysql数据库" tabindex="-1">MySQL数据库 <a class="header-anchor" href="#mysql数据库" aria-hidden="true">#</a></h1><p><em>(基于《MySQL必知必会》整理)</em></p><h2 id="一、基础概念" tabindex="-1">一、基础概念 <a class="header-anchor" href="#一、基础概念" aria-hidden="true">#</a></h2><h3 id="_1-数据库基础" tabindex="-1">1. 数据库基础 <a class="header-anchor" href="#_1-数据库基础" aria-hidden="true">#</a></h3><ul><li><strong>数据库</strong>：保存有组织的数据的容器</li><li><strong>表</strong>：某种特定类型数据的结构化清单</li><li><strong>列</strong>：表中的一个字段，所有表都是由一个或多个列组成</li><li><strong>行</strong>：表中的一个记录</li><li><strong>主键</strong>：一列(或一组列)，其值能唯一区分表中每个行</li></ul><h3 id="_2-sql基础" tabindex="-1">2. SQL基础 <a class="header-anchor" href="#_2-sql基础" aria-hidden="true">#</a></h3><ul><li><strong>SQL (Structured Query Language)</strong>：结构化查询语言，用于管理数据库</li><li><strong>DDL (Data Definition Language)</strong>：数据定义语言，如CREATE, ALTER, DROP</li><li><strong>DML (Data Manipulation Language)</strong>：数据操作语言，如SELECT, INSERT, UPDATE, DELETE</li><li><strong>DCL (Data Control Language)</strong>：数据控制语言，如GRANT, REVOKE</li></ul><h2 id="二、数据库与表操作" tabindex="-1">二、数据库与表操作 <a class="header-anchor" href="#二、数据库与表操作" aria-hidden="true">#</a></h2><h3 id="_1-数据库操作" tabindex="-1">1. 数据库操作 <a class="header-anchor" href="#_1-数据库操作" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- 创建数据库</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DATABASE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">database_name</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 选择数据库</span></span>
<span class="line"><span style="color:#F97583;">USE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">database_name</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查看数据库</span></span>
<span class="line"><span style="color:#E1E4E8;">SHOW DATABASES;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 删除数据库</span></span>
<span class="line"><span style="color:#F97583;">DROP</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DATABASE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">database_name</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_2-表操作" tabindex="-1">2. 表操作 <a class="header-anchor" href="#_2-表操作" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- 创建表</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">table_name</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">  column1 datatype constraints,</span></span>
<span class="line"><span style="color:#E1E4E8;">  column2 datatype constraints,</span></span>
<span class="line"><span style="color:#E1E4E8;">  ...</span></span>
<span class="line"><span style="color:#E1E4E8;">) ENGINE</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">InnoDB;  </span><span style="color:#6A737D;">-- 指定存储引擎</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查看表</span></span>
<span class="line"><span style="color:#E1E4E8;">SHOW TABLES;</span></span>
<span class="line"><span style="color:#E1E4E8;">DESCRIBE table_name;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 修改表</span></span>
<span class="line"><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> table_name </span><span style="color:#F97583;">ADD</span><span style="color:#E1E4E8;"> column_name datatype;</span></span>
<span class="line"><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> table_name </span><span style="color:#F97583;">DROP</span><span style="color:#E1E4E8;"> COLUMN column_name;</span></span>
<span class="line"><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> table_name </span><span style="color:#F97583;">MODIFY</span><span style="color:#E1E4E8;"> COLUMN column_name new_datatype;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 重命名表</span></span>
<span class="line"><span style="color:#E1E4E8;">RENAME </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> old_name </span><span style="color:#F97583;">TO</span><span style="color:#E1E4E8;"> new_name;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 删除表</span></span>
<span class="line"><span style="color:#F97583;">DROP</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> table_name;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_3-数据类型" tabindex="-1">3. 数据类型 <a class="header-anchor" href="#_3-数据类型" aria-hidden="true">#</a></h3><ul><li><strong>数值类型</strong>：INT, DECIMAL, FLOAT, DOUBLE</li><li><strong>字符串类型</strong>：CHAR, VARCHAR, TEXT, BLOB</li><li><strong>日期时间类型</strong>：DATE, TIME, DATETIME, TIMESTAMP, YEAR</li><li><strong>AUTO_INCREMENT</strong>：自动增长列</li><li><strong>DEFAULT</strong>：指定默认值</li><li><strong>NULL/NOT NULL</strong>：允许/不允许为空</li></ul><h2 id="三、数据操作" tabindex="-1">三、数据操作 <a class="header-anchor" href="#三、数据操作" aria-hidden="true">#</a></h2><h3 id="_1-插入数据" tabindex="-1">1. 插入数据 <a class="header-anchor" href="#_1-插入数据" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- 插入完整行</span></span>
<span class="line"><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> table_name </span><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;">(value1, value2, ...);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 插入特定列</span></span>
<span class="line"><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> table_name(column1, column2) </span><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;">(value1, value2);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 插入多行</span></span>
<span class="line"><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> table_name </span><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;">(...), (...), (...);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 插入检索数据</span></span>
<span class="line"><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> table_name(column1, column2)</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1, column2 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> another_table;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_2-更新数据" tabindex="-1">2. 更新数据 <a class="header-anchor" href="#_2-更新数据" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#F97583;">UPDATE</span><span style="color:#E1E4E8;"> table_name</span></span>
<span class="line"><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;"> column1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> value1, column2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> value2</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> condition;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_3-删除数据" tabindex="-1">3. 删除数据 <a class="header-anchor" href="#_3-删除数据" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- 删除特定行</span></span>
<span class="line"><span style="color:#F97583;">DELETE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> condition;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 删除表所有数据(保留表结构)</span></span>
<span class="line"><span style="color:#F97583;">TRUNCATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> table_name;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="四、数据查询" tabindex="-1">四、数据查询 <a class="header-anchor" href="#四、数据查询" aria-hidden="true">#</a></h2><h3 id="_1-基础查询" tabindex="-1">1. 基础查询 <a class="header-anchor" href="#_1-基础查询" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- 检索单个/多个列</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name;</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1, column2 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 检索所有列</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 检索不同行</span></span>
<span class="line"><span style="color:#F97583;">SELECT DISTINCT</span><span style="color:#E1E4E8;"> column1 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 限制结果</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name </span><span style="color:#F97583;">LIMIT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name </span><span style="color:#F97583;">LIMIT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;"> OFFSET </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">-- 从第4行开始取5行</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_2-排序" tabindex="-1">2. 排序 <a class="header-anchor" href="#_2-排序" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- 单列排序</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name </span><span style="color:#F97583;">ORDER BY</span><span style="color:#E1E4E8;"> column1;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 多列排序</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1, column2 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name </span><span style="color:#F97583;">ORDER BY</span><span style="color:#E1E4E8;"> column1, column2;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 指定排序方向</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name </span><span style="color:#F97583;">ORDER BY</span><span style="color:#E1E4E8;"> column1 </span><span style="color:#F97583;">DESC</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">-- 降序</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name </span><span style="color:#F97583;">ORDER BY</span><span style="color:#E1E4E8;"> column1 </span><span style="color:#F97583;">ASC</span><span style="color:#E1E4E8;">;  </span><span style="color:#6A737D;">-- 升序(默认)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_3-过滤数据" tabindex="-1">3. 过滤数据 <a class="header-anchor" href="#_3-过滤数据" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- WHERE子句</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> condition;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 检查单个值</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> column </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">value</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 不匹配检查</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> column </span><span style="color:#F97583;">&lt;&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">value</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> column </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">value</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 范围值检查</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> column </span><span style="color:#F97583;">BETWEEN</span><span style="color:#E1E4E8;"> value1 </span><span style="color:#F97583;">AND</span><span style="color:#E1E4E8;"> value2;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 空值检查</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> column </span><span style="color:#F97583;">IS</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> column </span><span style="color:#F97583;">IS NOT NULL</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- IN操作符</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> column </span><span style="color:#F97583;">IN</span><span style="color:#E1E4E8;"> (value1, value2, ...);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- NOT操作符</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NOT</span><span style="color:#E1E4E8;"> column </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">value</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="_4-通配符过滤" tabindex="-1">4. 通配符过滤 <a class="header-anchor" href="#_4-通配符过滤" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- LIKE操作符</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> column </span><span style="color:#F97583;">LIKE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;pattern&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 百分号(%)通配符 - 匹配0或多个字符</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> column </span><span style="color:#F97583;">LIKE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;jet%&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 下划线(_)通配符 - 匹配单个字符</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> column </span><span style="color:#F97583;">LIKE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;_eton&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 转义特殊字符</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> column </span><span style="color:#F97583;">LIKE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;%\\\\_%&#39;</span><span style="color:#E1E4E8;"> ESCAPE </span><span style="color:#9ECBFF;">&#39;\\\\&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_5-正则表达式" tabindex="-1">5. 正则表达式 <a class="header-anchor" href="#_5-正则表达式" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- 基本字符匹配</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> column REGEXP </span><span style="color:#9ECBFF;">&#39;pattern&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- OR匹配</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> column REGEXP </span><span style="color:#9ECBFF;">&#39;1000|2000&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 匹配几个字符之一</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> column REGEXP </span><span style="color:#9ECBFF;">&#39;[123] Ton&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 匹配范围</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> column REGEXP </span><span style="color:#9ECBFF;">&#39;[0-9]&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 匹配特殊字符</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> column REGEXP </span><span style="color:#9ECBFF;">&#39;\\\\.&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 匹配多个实例</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> column REGEXP </span><span style="color:#9ECBFF;">&#39;stick?&#39;</span><span style="color:#E1E4E8;">;  </span><span style="color:#6A737D;">-- ?匹配0或1个</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> column REGEXP </span><span style="color:#9ECBFF;">&#39;sticks*&#39;</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">-- *匹配0或多个</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> column REGEXP </span><span style="color:#9ECBFF;">&#39;sticks+&#39;</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">-- +匹配1或多个</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 定位符</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> column REGEXP </span><span style="color:#9ECBFF;">&#39;^start&#39;</span><span style="color:#E1E4E8;">;  </span><span style="color:#6A737D;">-- 以start开头</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> column REGEXP </span><span style="color:#9ECBFF;">&#39;end$&#39;</span><span style="color:#E1E4E8;">;    </span><span style="color:#6A737D;">-- 以end结尾</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="五、高级查询技术" tabindex="-1">五、高级查询技术 <a class="header-anchor" href="#五、高级查询技术" aria-hidden="true">#</a></h2><h3 id="_1-计算字段" tabindex="-1">1. 计算字段 <a class="header-anchor" href="#_1-计算字段" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- 拼接字段</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">CONCAT</span><span style="color:#E1E4E8;">(column1, </span><span style="color:#9ECBFF;">&#39;(&#39;</span><span style="color:#E1E4E8;">, column2, </span><span style="color:#9ECBFF;">&#39;)&#39;</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> new_column </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 执行算术计算</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1 </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> column2 </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> result </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 使用AS指定别名</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1 </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> alias_name </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_2-数据处理函数" tabindex="-1">2. 数据处理函数 <a class="header-anchor" href="#_2-数据处理函数" aria-hidden="true">#</a></h3><h4 id="文本处理函数" tabindex="-1">文本处理函数 <a class="header-anchor" href="#文本处理函数" aria-hidden="true">#</a></h4><ul><li><code>LEFT()</code>, <code>RIGHT()</code> - 返回串左边/右边的字符</li><li><code>LENGTH()</code> - 返回串的长度</li><li><code>LOCATE()</code> - 找出串的一个子串</li><li><code>LOWER()</code>, <code>UPPER()</code> - 将文本转换为小写/大写</li><li><code>LTRIM()</code>, <code>RTRIM()</code>, <code>TRIM()</code> - 去掉串左/右/两边的空格</li><li><code>SOUNDEX()</code> - 返回串的SOUNDEX值</li><li><code>SUBSTRING()</code> - 返回子串的字符</li></ul><h4 id="日期和时间处理函数" tabindex="-1">日期和时间处理函数 <a class="header-anchor" href="#日期和时间处理函数" aria-hidden="true">#</a></h4><ul><li><code>ADDDATE()</code>, <code>ADDTIME()</code> - 增加一个日期/时间</li><li><code>CURDATE()</code>, <code>CURTIME()</code> - 返回当前日期/时间</li><li><code>DATE()</code>, <code>TIME()</code> - 返回日期时间的日期/时间部分</li><li><code>DATEDIFF()</code> - 计算两个日期之差</li><li><code>DATE_ADD()</code>, <code>DATE_SUB()</code> - 日期加减</li><li><code>DATE_FORMAT()</code> - 返回格式化的日期或时间串</li><li><code>DAY()</code>, <code>MONTH()</code>, <code>YEAR()</code> - 返回日期的天/月/年部分</li><li><code>DAYOFWEEK()</code> - 返回日期对应的星期几</li><li><code>HOUR()</code>, <code>MINUTE()</code>, <code>SECOND()</code> - 返回时间的时/分/秒部分</li><li><code>NOW()</code> - 返回当前日期和时间</li></ul><h4 id="数值处理函数" tabindex="-1">数值处理函数 <a class="header-anchor" href="#数值处理函数" aria-hidden="true">#</a></h4><ul><li><code>ABS()</code> - 返回一个数的绝对值</li><li><code>COS()</code>, <code>SIN()</code>, <code>TAN()</code> - 三角函数</li><li><code>EXP()</code> - 返回一个数的指数值</li><li><code>MOD()</code> - 返回除操作的余数</li><li><code>PI()</code> - 返回圆周率</li><li><code>RAND()</code> - 返回一个随机数</li><li><code>SQRT()</code> - 返回一个数的平方根</li></ul><h3 id="_3-汇总数据" tabindex="-1">3. 汇总数据 <a class="header-anchor" href="#_3-汇总数据" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- 聚集函数</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">AVG</span><span style="color:#E1E4E8;">(column) </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> avg_value </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name;  </span><span style="color:#6A737D;">-- 平均值</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">COUNT</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> num_items </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name;     </span><span style="color:#6A737D;">-- 行数</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">MAX</span><span style="color:#E1E4E8;">(column) </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> max_value </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name;  </span><span style="color:#6A737D;">-- 最大值</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">MIN</span><span style="color:#E1E4E8;">(column) </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> min_value </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name;  </span><span style="color:#6A737D;">-- 最小值</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">SUM</span><span style="color:#E1E4E8;">(column) </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> sum_value </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name;  </span><span style="color:#6A737D;">-- 求和</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 聚集不同值</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">AVG</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">DISTINCT</span><span style="color:#E1E4E8;"> column) </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 组合聚集函数</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">COUNT</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> num_items,</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#79B8FF;">MIN</span><span style="color:#E1E4E8;">(column) </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> min_price,</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#79B8FF;">MAX</span><span style="color:#E1E4E8;">(column) </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> max_price,</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#79B8FF;">AVG</span><span style="color:#E1E4E8;">(column) </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> avg_price</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="_4-分组数据" tabindex="-1">4. 分组数据 <a class="header-anchor" href="#_4-分组数据" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- 创建分组</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1, </span><span style="color:#79B8FF;">COUNT</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> count</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name</span></span>
<span class="line"><span style="color:#F97583;">GROUP BY</span><span style="color:#E1E4E8;"> column1;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 过滤分组</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1, </span><span style="color:#79B8FF;">COUNT</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> count</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name</span></span>
<span class="line"><span style="color:#F97583;">GROUP BY</span><span style="color:#E1E4E8;"> column1</span></span>
<span class="line"><span style="color:#F97583;">HAVING</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">COUNT</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">&gt;=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 分组和排序</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1, </span><span style="color:#79B8FF;">COUNT</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> count</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name</span></span>
<span class="line"><span style="color:#F97583;">GROUP BY</span><span style="color:#E1E4E8;"> column1</span></span>
<span class="line"><span style="color:#F97583;">ORDER BY</span><span style="color:#E1E4E8;"> count </span><span style="color:#F97583;">DESC</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- SELECT子句顺序</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">GROUP BY</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">HAVING</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">ORDER BY</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">LIMIT</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="_5-子查询" tabindex="-1">5. 子查询 <a class="header-anchor" href="#_5-子查询" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- 作为条件</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table1</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> column2 </span><span style="color:#F97583;">IN</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column2 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table2 </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> condition);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 作为计算字段</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1,</span></span>
<span class="line"><span style="color:#E1E4E8;">       (</span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">COUNT</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table2 </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">table2</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">table1</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> count</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table1;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_6-联结表" tabindex="-1">6. 联结表 <a class="header-anchor" href="#_6-联结表" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- 等值联结(内联结)</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">table1</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">column1</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">table2</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">column2</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table1, table2</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">table1</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">table2</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 内部联结(INNER JOIN)</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">table1</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">column1</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">table2</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">column2</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table1 </span><span style="color:#F97583;">INNER JOIN</span><span style="color:#E1E4E8;"> table2</span></span>
<span class="line"><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">table1</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">table2</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 联结多个表</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">t1</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">c1</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">t2</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">c2</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">t3</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">c3</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> t1 </span><span style="color:#F97583;">INNER JOIN</span><span style="color:#E1E4E8;"> t2 </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">t1</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">t2</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">INNER JOIN</span><span style="color:#E1E4E8;"> t3 </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">t2</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">t3</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 表别名</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">t1</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">c1</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">t2</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">c2</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table1 </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> t1, table2 </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> t2</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">t1</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">t2</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="_7-高级联结" tabindex="-1">7. 高级联结 <a class="header-anchor" href="#_7-高级联结" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- 自联结</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">t1</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">column1</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">t2</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">column2</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">table</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> t1, </span><span style="color:#F97583;">table</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> t2</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">t1</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">t2</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">related_id</span></span>
<span class="line"><span style="color:#F97583;">AND</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">t2</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">column3</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;value&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 自然联结</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> c.</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">o</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">order_num</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> customers </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> c, orders </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> o</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">c</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">cust_id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">o</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">cust_id</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 外部联结</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">table1</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">column1</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">table2</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">column2</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table1 </span><span style="color:#F97583;">LEFT OUTER JOIN</span><span style="color:#E1E4E8;"> table2</span></span>
<span class="line"><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">table1</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">table2</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_8-组合查询" tabindex="-1">8. 组合查询 <a class="header-anchor" href="#_8-组合查询" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- 使用UNION</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table1 </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> condition</span></span>
<span class="line"><span style="color:#F97583;">UNION</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table2 </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> condition;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 包含重复行</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table1 </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> condition</span></span>
<span class="line"><span style="color:#F97583;">UNION ALL</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table2 </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> condition;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 对组合查询结果排序</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table1 </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> condition</span></span>
<span class="line"><span style="color:#F97583;">UNION</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table2 </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> condition</span></span>
<span class="line"><span style="color:#F97583;">ORDER BY</span><span style="color:#E1E4E8;"> column1;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_9-全文本搜索" tabindex="-1">9. 全文本搜索 <a class="header-anchor" href="#_9-全文本搜索" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- 启用全文本搜索(创建表时)</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">table_name</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">  id </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> AUTO_INCREMENT,</span></span>
<span class="line"><span style="color:#E1E4E8;">  content </span><span style="color:#F97583;">TEXT</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">FULLTEXT</span><span style="color:#E1E4E8;">(content)</span></span>
<span class="line"><span style="color:#E1E4E8;">) ENGINE</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">MyISAM;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 进行全文本搜索</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> MATCH(content) AGAINST(</span><span style="color:#9ECBFF;">&#39;search_text&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 使用查询扩展</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> MATCH(content) AGAINST(</span><span style="color:#9ECBFF;">&#39;search_text&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">WITH</span><span style="color:#E1E4E8;"> QUERY EXPANSION);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 布尔文本搜索</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> MATCH(content) AGAINST(</span><span style="color:#9ECBFF;">&#39;+search -text&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">IN</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">BOOLEAN</span><span style="color:#E1E4E8;"> MODE);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="六、视图、存储过程和触发器" tabindex="-1">六、视图、存储过程和触发器 <a class="header-anchor" href="#六、视图、存储过程和触发器" aria-hidden="true">#</a></h2><h3 id="_1-视图" tabindex="-1">1. 视图 <a class="header-anchor" href="#_1-视图" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- 创建视图</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VIEW</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">view_name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">AS</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1, column2</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> condition;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查看视图</span></span>
<span class="line"><span style="color:#E1E4E8;">SHOW </span><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> VIEW view_name;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 使用视图</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> view_name;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 删除视图</span></span>
<span class="line"><span style="color:#F97583;">DROP</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VIEW</span><span style="color:#E1E4E8;"> view_name;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 更新视图(某些视图可更新)</span></span>
<span class="line"><span style="color:#F97583;">CREATE OR REPLACE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VIEW</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">view_name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">AS</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1, column2</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> condition;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="_2-存储过程" tabindex="-1">2. 存储过程 <a class="header-anchor" href="#_2-存储过程" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- 创建存储过程</span></span>
<span class="line"><span style="color:#E1E4E8;">DELIMITER </span><span style="color:#F97583;">//</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">PROCEDURE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">procedure_name</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">BEGIN</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name;</span></span>
<span class="line"><span style="color:#F97583;">END</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">//</span></span>
<span class="line"><span style="color:#E1E4E8;">DELIMITER ;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 执行存储过程</span></span>
<span class="line"><span style="color:#F97583;">CALL</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">procedure_name</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 使用参数</span></span>
<span class="line"><span style="color:#E1E4E8;">DELIMITER </span><span style="color:#F97583;">//</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">PROCEDURE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">procedure_name</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">IN</span><span style="color:#E1E4E8;"> param1 </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">BEGIN</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> id </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> param1;</span></span>
<span class="line"><span style="color:#F97583;">END</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">//</span></span>
<span class="line"><span style="color:#E1E4E8;">DELIMITER ;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 删除存储过程</span></span>
<span class="line"><span style="color:#F97583;">DROP</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">PROCEDURE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">IF</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">EXISTS</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">procedure_name</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_3-游标" tabindex="-1">3. 游标 <a class="header-anchor" href="#_3-游标" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">DELIMITER </span><span style="color:#F97583;">//</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">PROCEDURE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">procedure_name</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">BEGIN</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">DECLARE</span><span style="color:#E1E4E8;"> done </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">DECLARE</span><span style="color:#E1E4E8;"> var1 </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">-- 声明游标</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">DECLARE</span><span style="color:#E1E4E8;"> cursor_name </span><span style="color:#F97583;">CURSOR</span><span style="color:#E1E4E8;"> FOR</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">-- 声明继续处理</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">DECLARE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">CONTINUE</span><span style="color:#E1E4E8;"> HANDLER FOR SQLSTATE </span><span style="color:#9ECBFF;">&#39;02000&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;"> done </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">-- 打开游标</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">OPEN</span><span style="color:#E1E4E8;"> cursor_name;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">-- 循环处理</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">REPEAT</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">FETCH</span><span style="color:#E1E4E8;"> cursor_name </span><span style="color:#F97583;">INTO</span><span style="color:#E1E4E8;"> var1;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">IF</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NOT</span><span style="color:#E1E4E8;"> done </span><span style="color:#F97583;">THEN</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">-- 处理数据</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">END</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">IF</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  UNTIL done </span><span style="color:#F97583;">END</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">REPEAT</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">-- 关闭游标</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">CLOSE</span><span style="color:#E1E4E8;"> cursor_name;</span></span>
<span class="line"><span style="color:#F97583;">END</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">//</span></span>
<span class="line"><span style="color:#E1E4E8;">DELIMITER ;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="_4-触发器" tabindex="-1">4. 触发器 <a class="header-anchor" href="#_4-触发器" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- 创建触发器</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TRIGGER</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">trigger_name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">BEFORE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INSERT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> table_name</span></span>
<span class="line"><span style="color:#E1E4E8;">FOR EACH </span><span style="color:#F97583;">ROW</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">NEW</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">date</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NOW</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- DELETE触发器</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TRIGGER</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">trigger_name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">AFTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DELETE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> table_name</span></span>
<span class="line"><span style="color:#E1E4E8;">FOR EACH </span><span style="color:#F97583;">ROW</span></span>
<span class="line"><span style="color:#F97583;">BEGIN</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> audit_table </span><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">OLD</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">NOW</span><span style="color:#E1E4E8;">());</span></span>
<span class="line"><span style="color:#F97583;">END</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- UPDATE触发器</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TRIGGER</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">trigger_name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">BEFORE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">UPDATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> table_name</span></span>
<span class="line"><span style="color:#E1E4E8;">FOR EACH </span><span style="color:#F97583;">ROW</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">NEW</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">update_time</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NOW</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 删除触发器</span></span>
<span class="line"><span style="color:#F97583;">DROP</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TRIGGER</span><span style="color:#E1E4E8;"> trigger_name;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="七、事务与安全" tabindex="-1">七、事务与安全 <a class="header-anchor" href="#七、事务与安全" aria-hidden="true">#</a></h2><h3 id="_1-事务处理" tabindex="-1">1. 事务处理 <a class="header-anchor" href="#_1-事务处理" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- 开始事务</span></span>
<span class="line"><span style="color:#F97583;">START TRANSACTION</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 回滚</span></span>
<span class="line"><span style="color:#F97583;">ROLLBACK</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 提交</span></span>
<span class="line"><span style="color:#F97583;">COMMIT</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 保留点</span></span>
<span class="line"><span style="color:#E1E4E8;">SAVEPOINT savepoint_name;</span></span>
<span class="line"><span style="color:#F97583;">ROLLBACK</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TO</span><span style="color:#E1E4E8;"> savepoint_name;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_2-安全管理" tabindex="-1">2. 安全管理 <a class="header-anchor" href="#_2-安全管理" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- 创建用户账号</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">USER</span><span style="color:#E1E4E8;"> &#39;</span><span style="color:#B392F0;">username</span><span style="color:#E1E4E8;">&#39;@</span><span style="color:#9ECBFF;">&#39;host&#39;</span><span style="color:#E1E4E8;"> IDENTIFIED </span><span style="color:#F97583;">BY</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;password&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 重命名用户</span></span>
<span class="line"><span style="color:#E1E4E8;">RENAME USER </span><span style="color:#9ECBFF;">&#39;old_name&#39;</span><span style="color:#E1E4E8;">@</span><span style="color:#9ECBFF;">&#39;host&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TO</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;new_name&#39;</span><span style="color:#E1E4E8;">@</span><span style="color:#9ECBFF;">&#39;host&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 删除用户账号</span></span>
<span class="line"><span style="color:#F97583;">DROP</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">USER</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;username&#39;</span><span style="color:#E1E4E8;">@</span><span style="color:#9ECBFF;">&#39;host&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 设置访问权限</span></span>
<span class="line"><span style="color:#F97583;">GRANT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">INSERT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">database</span><span style="color:#E1E4E8;">.</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TO</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;username&#39;</span><span style="color:#E1E4E8;">@</span><span style="color:#9ECBFF;">&#39;host&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">GRANT</span><span style="color:#E1E4E8;"> ALL PRIVILEGES </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">.</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TO</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;username&#39;</span><span style="color:#E1E4E8;">@</span><span style="color:#9ECBFF;">&#39;host&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">WITH</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">GRANT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">OPTION</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 撤销权限</span></span>
<span class="line"><span style="color:#F97583;">REVOKE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">database</span><span style="color:#E1E4E8;">.</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;username&#39;</span><span style="color:#E1E4E8;">@</span><span style="color:#9ECBFF;">&#39;host&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 刷新权限</span></span>
<span class="line"><span style="color:#E1E4E8;">FLUSH PRIVILEGES;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 更改口令</span></span>
<span class="line"><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">PASSWORD</span><span style="color:#E1E4E8;"> FOR </span><span style="color:#9ECBFF;">&#39;username&#39;</span><span style="color:#E1E4E8;">@</span><span style="color:#9ECBFF;">&#39;host&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">PASSWORD</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;new_password&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="八、性能优化与维护" tabindex="-1">八、性能优化与维护 <a class="header-anchor" href="#八、性能优化与维护" aria-hidden="true">#</a></h2><h3 id="_1-索引" tabindex="-1">1. 索引 <a class="header-anchor" href="#_1-索引" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- 创建索引</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INDEX</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">index_name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> table_name(column_name);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 创建唯一索引</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">UNIQUE INDEX</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">index_name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> table_name(column_name);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 删除索引</span></span>
<span class="line"><span style="color:#F97583;">DROP</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INDEX</span><span style="color:#E1E4E8;"> index_name </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> table_name;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_2-存储引擎" tabindex="-1">2. 存储引擎 <a class="header-anchor" href="#_2-存储引擎" aria-hidden="true">#</a></h3><ul><li><strong>InnoDB</strong>：支持事务、外键，行级锁</li><li><strong>MyISAM</strong>：不支持事务，表级锁，全文索引</li><li><strong>MEMORY</strong>：内存存储，临时表</li><li><strong>ARCHIVE</strong>：适合归档数据，高压缩比</li></ul><h3 id="_3-数据库维护" tabindex="-1">3. 数据库维护 <a class="header-anchor" href="#_3-数据库维护" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- 备份数据</span></span>
<span class="line"><span style="color:#E1E4E8;">mysqldump </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">u username </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">p </span><span style="color:#F97583;">database_name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">backup</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">sql</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 恢复数据</span></span>
<span class="line"><span style="color:#E1E4E8;">mysql </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">u username </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">p </span><span style="color:#F97583;">database_name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">backup</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">sql</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 检查表</span></span>
<span class="line"><span style="color:#F97583;">CHECK</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> table_name;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 修复表</span></span>
<span class="line"><span style="color:#E1E4E8;">REPAIR </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> table_name;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 优化表</span></span>
<span class="line"><span style="color:#E1E4E8;">OPTIMIZE </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> table_name;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 分析表</span></span>
<span class="line"><span style="color:#E1E4E8;">ANALYZE </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> table_name;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="_4-日志文件" tabindex="-1">4. 日志文件 <a class="header-anchor" href="#_4-日志文件" aria-hidden="true">#</a></h3><ul><li><strong>错误日志</strong>：记录MySQL启动、运行或停止时出现的问题</li><li><strong>查询日志</strong>：记录所有查询</li><li><strong>慢查询日志</strong>：记录执行时间超过指定值的查询</li><li><strong>二进制日志</strong>：记录所有更改数据的查询，用于复制和恢复</li></ul><h3 id="_5-全球化和本地化" tabindex="-1">5. 全球化和本地化 <a class="header-anchor" href="#_5-全球化和本地化" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">-- 查看可用字符集</span></span>
<span class="line"><span style="color:#E1E4E8;">SHOW </span><span style="color:#F97583;">CHARACTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查看可用校对</span></span>
<span class="line"><span style="color:#E1E4E8;">SHOW COLLATION;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 指定字符集和校对</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DATABASE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">database_name</span></span>
<span class="line"><span style="color:#F97583;">CHARACTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;"> utf8</span></span>
<span class="line"><span style="color:#F97583;">COLLATE</span><span style="color:#E1E4E8;"> utf8_general_ci;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">table_name</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">  column </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">CHARACTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;"> utf8 </span><span style="color:#F97583;">COLLATE</span><span style="color:#E1E4E8;"> utf8_general_ci;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="九、性能优化技巧" tabindex="-1">九、性能优化技巧 <a class="header-anchor" href="#九、性能优化技巧" aria-hidden="true">#</a></h2><ol><li><strong>索引优化</strong><ul><li>为经常用于WHERE、JOIN和ORDER BY的列创建索引</li><li>避免过度索引，因为索引会降低INSERT、UPDATE和DELETE的性能</li><li>考虑使用复合索引，但注意最左前缀原则</li></ul></li><li><strong>查询优化</strong><ul><li>避免在WHERE子句中对字段进行函数操作</li><li>使用LIMIT限制返回的行数</li><li>尽量避免SELECT *，只选择需要的列</li><li>使用JOIN代替子查询（通常更高效）</li><li>考虑使用EXPLAIN分析查询计划</li></ul></li><li><strong>表结构优化</strong><ul><li>选择合适的数据类型</li><li>使用NOT NULL约束，除非需要存储NULL</li><li>考虑分区表，以提高大型表的查询性能</li><li>定期执行ANALYZE TABLE和OPTIMIZE TABLE</li></ul></li><li><strong>服务器配置优化</strong><ul><li>调整缓冲池大小（innodb_buffer_pool_size）</li><li>适当配置查询缓存</li><li>调整连接数限制</li><li>优化临时表使用</li></ul></li></ol><h2 id="十、附录" tabindex="-1">十、附录 <a class="header-anchor" href="#十、附录" aria-hidden="true">#</a></h2><h3 id="_1-常用命令速查" tabindex="-1">1. 常用命令速查 <a class="header-anchor" href="#_1-常用命令速查" aria-hidden="true">#</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># 连接MySQL</span></span>
<span class="line"><span style="color:#B392F0;">mysql</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-u</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">username</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 导出数据库</span></span>
<span class="line"><span style="color:#B392F0;">mysqldump</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-u</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">username</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">database_name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">file.sql</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 导入数据库</span></span>
<span class="line"><span style="color:#B392F0;">mysql</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-u</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">username</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">database_name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">file.sql</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 显示状态</span></span>
<span class="line"><span style="color:#B392F0;">SHOW</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STATUS</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 显示变量</span></span>
<span class="line"><span style="color:#B392F0;">SHOW</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">VARIABLES</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 显示进程</span></span>
<span class="line"><span style="color:#B392F0;">SHOW</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">PROCESSLIST</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="_2-mysql保留字-部分" tabindex="-1">2. MySQL保留字(部分) <a class="header-anchor" href="#_2-mysql保留字-部分" aria-hidden="true">#</a></h3><p>ADD, ALL, ALTER, ANALYZE, AND, AS, ASC, ASENSITIVE, BEFORE, BETWEEN, BIGINT, BINARY, BLOB, BOTH, BY, CALL, CASCADE, CASE, CHANGE, CHAR, CHARACTER, CHECK, COLLATE, COLUMN, CONDITION, CONNECTION, CONSTRAINT, CONTINUE, CONVERT, CREATE, CROSS, CURRENT_DATE, CURRENT_TIME, CURRENT_TIMESTAMP, CURRENT_USER, CURSOR, DATABASE, DATABASES, DAY_HOUR, DAY_MICROSECOND, DAY_MINUTE, DAY_SECOND, DEC, DECIMAL, DECLARE, DEFAULT, DELAYED, DELETE, DESC, DESCRIBE, DETERMINISTIC, DISTINCT, DISTINCTROW, DIV, DOUBLE, DROP, DUAL, EACH, ELSE, ELSEIF, ENCLOSED, ESCAPED, EXCEPT, EXISTS, EXIT, EXPLAIN, FALSE, FETCH, FLOAT, FLOAT4, FLOAT8, FOR, FORCE, FOREIGN, FROM, FULLTEXT, FUNCTION, GET, GLOBAL, GRANT, GROUP, HAVING, HIGH_PRIORITY, HOUR_MICROSECOND, HOUR_MINUTE, HOUR_SECOND, IF, IGNORE, IN, INDEX, INFILE, INNER, INOUT, INSENSITIVE, INSERT, INT, INT1, INT2, INT3, INT4, INT8, INTEGER, INTERVAL, INTO, IS, ITERATE, JOIN, KEY, KEYS, KILL, LEADING, LEAVE, LEFT, LIKE, LIMIT, LINEAR, LINES, LOAD, LOCALTIME, LOCALTIMESTAMP, LOCK, LONG, LONGBLOB, LONGTEXT, LOOP, LOW_PRIORITY, MATCH, MAXVALUE, MEDIUMBLOB, MEDIUMINT, MEDIUMTEXT, MIDDLEINT, MINUTE_MICROSECOND, MINUTE_SECOND, MOD, MODIFIES, NATURAL, NOT, NO_WRITE_TO_BINLOG, NULL, NUMERIC, ON, OPTIMIZE, OPTION, OPTIONALLY, OR, ORDER, OUT, OUTER, OUTFILE, PARTITION, PRECISION, PRIMARY, PROCEDURE, PURGE, RANGE, READ, READS, READ_ONLY, READ_WRITE, REAL, REFERENCES, REGEXP, RELEASE, RENAME, REPEAT, REPLACE, REQUIRE, RESIGNAL, RESTRICT, RETURN, REVOKE, RIGHT, RLIKE, SCHEMA, SCHEMAS, SECOND_MICROSECOND, SELECT, SENSITIVE, SEPARATOR, SET, SHOW, SIGNAL, SMALLINT, SPATIAL, SPECIFIC, SQL, SQLEXCEPTION, SQLSTATE, SQLWARNING, SQL_BIG_RESULT, SQL_CALC_FOUND_ROWS, SQL_SMALL_RESULT, SSL, STARTING, STRAIGHT_JOIN, SYSTEM, TABLE, TERMINATED, THEN, TINYBLOB, TINYINT, TINYTEXT, TO, TRAILING, TRIGGER, TRUE, UNDO, UNION, UNIQUE, UNLOCK, UNSIGNED, UPDATE, USAGE, USE, USING, UTC_DATE, UTC_TIME, UTC_TIMESTAMP, VALUES, VARBINARY, VARCHAR, VARCHARACTER, VARYING, WHEN, WHERE, WHILE, WITH, WRITE, X509, XOR, YEAR_MONTH, ZEROFILL</p>`,88),o=[e];function r(c,E,t,i,y,b){return a(),n("div",null,o)}const d=s(p,[["render",r]]);export{F as __pageData,d as default};
