import{_ as s,c as n,o as a,a as l}from"./app.c6eddb07.js";const u=JSON.parse('{"title":"Solidity","description":"","frontmatter":{},"headers":[{"level":2,"title":"å¼€å‘å·¥å…·ï¼šremix","slug":"å¼€å‘å·¥å…·-remix","link":"#å¼€å‘å·¥å…·-remix","children":[]},{"level":2,"title":"ç¬¬ä¸€ä¸ªSolidityç¨‹åº","slug":"ç¬¬ä¸€ä¸ªsolidityç¨‹åº","link":"#ç¬¬ä¸€ä¸ªsolidityç¨‹åº","children":[]},{"level":2,"title":"ç¼–è¯‘å¹¶éƒ¨ç½²ä»£ç ","slug":"ç¼–è¯‘å¹¶éƒ¨ç½²ä»£ç ","link":"#ç¼–è¯‘å¹¶éƒ¨ç½²ä»£ç ","children":[{"level":3,"title":"Solidityä¸­çš„å˜é‡ç±»å‹","slug":"solidityä¸­çš„å˜é‡ç±»å‹","link":"#solidityä¸­çš„å˜é‡ç±»å‹","children":[]}]},{"level":2,"title":"æ•°å€¼ç±»å‹","slug":"æ•°å€¼ç±»å‹","link":"#æ•°å€¼ç±»å‹","children":[{"level":3,"title":"1. å¸ƒå°”å‹","slug":"_1-å¸ƒå°”å‹","link":"#_1-å¸ƒå°”å‹","children":[]},{"level":3,"title":"2. æ•´å‹","slug":"_2-æ•´å‹","link":"#_2-æ•´å‹","children":[]},{"level":3,"title":"3. åœ°å€ç±»å‹","slug":"_3-åœ°å€ç±»å‹","link":"#_3-åœ°å€ç±»å‹","children":[]},{"level":3,"title":"4. å®šé•¿å­—èŠ‚æ•°ç»„","slug":"_4-å®šé•¿å­—èŠ‚æ•°ç»„","link":"#_4-å®šé•¿å­—èŠ‚æ•°ç»„","children":[]},{"level":3,"title":"5. æšä¸¾ enum","slug":"_5-æšä¸¾-enum","link":"#_5-æšä¸¾-enum","children":[]},{"level":3,"title":"åœ¨remixä¸ŠéªŒè¯","slug":"åœ¨remixä¸ŠéªŒè¯","link":"#åœ¨remixä¸ŠéªŒè¯","children":[]},{"level":3,"title":"æ€»ç»“","slug":"æ€»ç»“","link":"#æ€»ç»“","children":[]}]},{"level":2,"title":"Solidityä¸­çš„å‡½æ•°","slug":"solidityä¸­çš„å‡½æ•°","link":"#solidityä¸­çš„å‡½æ•°","children":[{"level":3,"title":"åˆ°åº•ä»€ä¹ˆæ˜¯Pureå’ŒViewï¼Ÿ","slug":"åˆ°åº•ä»€ä¹ˆæ˜¯pureå’Œview","link":"#åˆ°åº•ä»€ä¹ˆæ˜¯pureå’Œview","children":[]},{"level":3,"title":"ä»£ç ","slug":"ä»£ç ","link":"#ä»£ç ","children":[]},{"level":3,"title":"æ€»ç»“","slug":"æ€»ç»“-1","link":"#æ€»ç»“-1","children":[]}]},{"level":2,"title":"å‡½æ•°è¾“å‡º","slug":"å‡½æ•°è¾“å‡º","link":"#å‡½æ•°è¾“å‡º","children":[{"level":3,"title":"è¿”å›å€¼ returnå’Œreturns","slug":"è¿”å›å€¼-returnå’Œreturns","link":"#è¿”å›å€¼-returnå’Œreturns","children":[]},{"level":3,"title":"å‘½åå¼è¿”å›","slug":"å‘½åå¼è¿”å›","link":"#å‘½åå¼è¿”å›","children":[]},{"level":3,"title":"è§£æ„å¼èµ‹å€¼","slug":"è§£æ„å¼èµ‹å€¼","link":"#è§£æ„å¼èµ‹å€¼","children":[]},{"level":3,"title":"åœ¨remixä¸ŠéªŒè¯","slug":"åœ¨remixä¸ŠéªŒè¯-1","link":"#åœ¨remixä¸ŠéªŒè¯-1","children":[]},{"level":3,"title":"æ€»ç»“","slug":"æ€»ç»“-2","link":"#æ€»ç»“-2","children":[]}]},{"level":2,"title":"Solidityä¸­çš„å¼•ç”¨ç±»å‹","slug":"solidityä¸­çš„å¼•ç”¨ç±»å‹","link":"#solidityä¸­çš„å¼•ç”¨ç±»å‹","children":[{"level":3,"title":"æ•°æ®ä½ç½®","slug":"æ•°æ®ä½ç½®","link":"#æ•°æ®ä½ç½®","children":[]},{"level":3,"title":"æ•°æ®ä½ç½®å’Œèµ‹å€¼è§„åˆ™","slug":"æ•°æ®ä½ç½®å’Œèµ‹å€¼è§„åˆ™","link":"#æ•°æ®ä½ç½®å’Œèµ‹å€¼è§„åˆ™","children":[]},{"level":3,"title":"å˜é‡çš„ä½œç”¨åŸŸ","slug":"å˜é‡çš„ä½œç”¨åŸŸ","link":"#å˜é‡çš„ä½œç”¨åŸŸ","children":[]},{"level":3,"title":"æ€»ç»“","slug":"æ€»ç»“-3","link":"#æ€»ç»“-3","children":[]}]},{"level":2,"title":"å¼•ç”¨ç±»å‹","slug":"å¼•ç”¨ç±»å‹","link":"#å¼•ç”¨ç±»å‹","children":[{"level":3,"title":"æ•°ç»„ array[]","slug":"æ•°ç»„-array","link":"#æ•°ç»„-array","children":[]},{"level":3,"title":"ç»“æ„ä½“ struct","slug":"ç»“æ„ä½“-struct","link":"#ç»“æ„ä½“-struct","children":[]},{"level":3,"title":"æ€»ç»“","slug":"æ€»ç»“-4","link":"#æ€»ç»“-4","children":[]}]},{"level":2,"title":"æ˜ å°„ç±»å‹","slug":"æ˜ å°„ç±»å‹","link":"#æ˜ å°„ç±»å‹","children":[{"level":3,"title":"æ˜ å°„Mapping","slug":"æ˜ å°„mapping","link":"#æ˜ å°„mapping","children":[]},{"level":3,"title":"æ˜ å°„çš„è§„åˆ™","slug":"æ˜ å°„çš„è§„åˆ™","link":"#æ˜ å°„çš„è§„åˆ™","children":[]},{"level":3,"title":"æ˜ å°„çš„åŸç†","slug":"æ˜ å°„çš„åŸç†","link":"#æ˜ å°„çš„åŸç†","children":[]},{"level":3,"title":"åœ¨Remixä¸ŠéªŒè¯ (ä»¥ Mapping.solä¸ºä¾‹)","slug":"åœ¨remixä¸ŠéªŒè¯-ä»¥-mapping-solä¸ºä¾‹","link":"#åœ¨remixä¸ŠéªŒè¯-ä»¥-mapping-solä¸ºä¾‹","children":[]},{"level":3,"title":"æ€»ç»“","slug":"æ€»ç»“-5","link":"#æ€»ç»“-5","children":[]}]},{"level":2,"title":"å˜é‡åˆå§‹å€¼","slug":"å˜é‡åˆå§‹å€¼","link":"#å˜é‡åˆå§‹å€¼","children":[{"level":3,"title":"å€¼ç±»å‹åˆå§‹å€¼","slug":"å€¼ç±»å‹åˆå§‹å€¼","link":"#å€¼ç±»å‹åˆå§‹å€¼","children":[]},{"level":3,"title":"å¼•ç”¨ç±»å‹åˆå§‹å€¼","slug":"å¼•ç”¨ç±»å‹åˆå§‹å€¼","link":"#å¼•ç”¨ç±»å‹åˆå§‹å€¼","children":[]},{"level":3,"title":"deleteæ“ä½œç¬¦","slug":"deleteæ“ä½œç¬¦","link":"#deleteæ“ä½œç¬¦","children":[]},{"level":3,"title":"åœ¨remixä¸ŠéªŒè¯","slug":"åœ¨remixä¸ŠéªŒè¯-2","link":"#åœ¨remixä¸ŠéªŒè¯-2","children":[]},{"level":3,"title":"æ€»ç»“","slug":"æ€»ç»“-6","link":"#æ€»ç»“-6","children":[]}]},{"level":2,"title":"å¸¸æ•°","slug":"å¸¸æ•°","link":"#å¸¸æ•°","children":[{"level":3,"title":"constantå’Œimmutable","slug":"constantå’Œimmutable","link":"#constantå’Œimmutable","children":[]},{"level":3,"title":"åœ¨remixä¸ŠéªŒè¯","slug":"åœ¨remixä¸ŠéªŒè¯-3","link":"#åœ¨remixä¸ŠéªŒè¯-3","children":[]},{"level":3,"title":"æ€»ç»“","slug":"æ€»ç»“-7","link":"#æ€»ç»“-7","children":[]}]},{"level":2,"title":"æ§åˆ¶æµ","slug":"æ§åˆ¶æµ","link":"#æ§åˆ¶æµ","children":[{"level":3,"title":"ç”¨solidityå®ç°æ’å…¥æ’åº","slug":"ç”¨solidityå®ç°æ’å…¥æ’åº","link":"#ç”¨solidityå®ç°æ’å…¥æ’åº","children":[]},{"level":3,"title":"æ’å…¥æ’åº","slug":"æ’å…¥æ’åº","link":"#æ’å…¥æ’åº","children":[]},{"level":3,"title":"pythonä»£ç ","slug":"pythonä»£ç ","link":"#pythonä»£ç ","children":[]},{"level":3,"title":"æ”¹å†™æˆsolidityåæœ‰BUGï¼","slug":"æ”¹å†™æˆsolidityåæœ‰bug","link":"#æ”¹å†™æˆsolidityåæœ‰bug","children":[]},{"level":3,"title":"æ­£ç¡®çš„solidityæ’å…¥æ’åº","slug":"æ­£ç¡®çš„solidityæ’å…¥æ’åº","link":"#æ­£ç¡®çš„solidityæ’å…¥æ’åº","children":[]},{"level":3,"title":"æ€»ç»“","slug":"æ€»ç»“-8","link":"#æ€»ç»“-8","children":[]}]},{"level":2,"title":"æ„é€ å‡½æ•°","slug":"æ„é€ å‡½æ•°","link":"#æ„é€ å‡½æ•°","children":[]},{"level":2,"title":"ä¿®é¥°å™¨","slug":"ä¿®é¥°å™¨","link":"#ä¿®é¥°å™¨","children":[{"level":3,"title":"OppenZepplinçš„Ownableæ ‡å‡†å®ç°ï¼š","slug":"oppenzepplinçš„ownableæ ‡å‡†å®ç°","link":"#oppenzepplinçš„ownableæ ‡å‡†å®ç°","children":[]},{"level":3,"title":"Remix æ¼”ç¤ºç¤ºä¾‹","slug":"remix-æ¼”ç¤ºç¤ºä¾‹","link":"#remix-æ¼”ç¤ºç¤ºä¾‹","children":[]},{"level":3,"title":"æ€»ç»“","slug":"æ€»ç»“-9","link":"#æ€»ç»“-9","children":[]}]},{"level":2,"title":"äº‹ä»¶","slug":"äº‹ä»¶","link":"#äº‹ä»¶","children":[{"level":3,"title":"è§„åˆ™","slug":"è§„åˆ™","link":"#è§„åˆ™","children":[]},{"level":3,"title":"Remix æ¼”ç¤º","slug":"remix-æ¼”ç¤º","link":"#remix-æ¼”ç¤º","children":[]},{"level":3,"title":"åœ¨etherscanä¸ŠæŸ¥è¯¢äº‹ä»¶","slug":"åœ¨etherscanä¸ŠæŸ¥è¯¢äº‹ä»¶","link":"#åœ¨etherscanä¸ŠæŸ¥è¯¢äº‹ä»¶","children":[]},{"level":3,"title":"æ€»ç»“","slug":"æ€»ç»“-10","link":"#æ€»ç»“-10","children":[]}]},{"level":2,"title":"ç»§æ‰¿","slug":"ç»§æ‰¿","link":"#ç»§æ‰¿","children":[{"level":3,"title":"è§„åˆ™","slug":"è§„åˆ™-1","link":"#è§„åˆ™-1","children":[]},{"level":3,"title":"ç®€å•ç»§æ‰¿","slug":"ç®€å•ç»§æ‰¿","link":"#ç®€å•ç»§æ‰¿","children":[]},{"level":3,"title":"å¤šé‡ç»§æ‰¿","slug":"å¤šé‡ç»§æ‰¿","link":"#å¤šé‡ç»§æ‰¿","children":[]},{"level":3,"title":"ä¿®é¥°å™¨çš„ç»§æ‰¿","slug":"ä¿®é¥°å™¨çš„ç»§æ‰¿","link":"#ä¿®é¥°å™¨çš„ç»§æ‰¿","children":[]},{"level":3,"title":"æ„é€ å‡½æ•°çš„ç»§æ‰¿","slug":"æ„é€ å‡½æ•°çš„ç»§æ‰¿","link":"#æ„é€ å‡½æ•°çš„ç»§æ‰¿","children":[]},{"level":3,"title":"è°ƒç”¨çˆ¶åˆçº¦çš„å‡½æ•°","slug":"è°ƒç”¨çˆ¶åˆçº¦çš„å‡½æ•°","link":"#è°ƒç”¨çˆ¶åˆçº¦çš„å‡½æ•°","children":[]},{"level":3,"title":"åœ¨Remixä¸ŠéªŒè¯","slug":"åœ¨remixä¸ŠéªŒè¯-4","link":"#åœ¨remixä¸ŠéªŒè¯-4","children":[]},{"level":3,"title":"æ€»ç»“","slug":"æ€»ç»“-11","link":"#æ€»ç»“-11","children":[]}]}],"relativePath":"blockchain/Solidity.md","lastUpdated":1681917910000}'),e={name:"blockchain/Solidity.md"},p=l(`<h1 id="solidity" tabindex="-1">Solidity <a class="header-anchor" href="#solidity" aria-hidden="true">#</a></h1><h2 id="å¼€å‘å·¥å…·-remix" tabindex="-1">å¼€å‘å·¥å…·ï¼šremix <a class="header-anchor" href="#å¼€å‘å·¥å…·-remix" aria-hidden="true">#</a></h2><p><code> remix</code>æ˜¯ä»¥å¤ªåŠå®˜æ–¹æ¨èçš„æ™ºèƒ½åˆçº¦å¼€å‘IDEï¼ˆé›†æˆå¼€å‘ç¯å¢ƒï¼‰ï¼Œé€‚åˆæ–°æ‰‹ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­å¿«é€Ÿéƒ¨ç½²æµ‹è¯•æ™ºèƒ½åˆçº¦ï¼Œä½ ä¸éœ€è¦åœ¨æœ¬åœ°å®‰è£…ä»»ä½•ç¨‹åºã€‚</p><p>ç½‘å€ï¼š<a href="https://remix.ethereum.org/" target="_blank" rel="noreferrer">remix.ethereum.org</a></p><p>è¿›å…¥<code>remix</code>ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ€å·¦è¾¹çš„èœå•æœ‰ä¸‰ä¸ªæŒ‰é’®ï¼Œåˆ†åˆ«å¯¹åº”æ–‡ä»¶ï¼ˆå†™ä»£ç çš„åœ°æ–¹ï¼‰ï¼Œç¼–è¯‘ï¼ˆè·‘ä»£ç ï¼‰ï¼Œéƒ¨ç½²ï¼ˆéƒ¨ç½²åˆ°é“¾ä¸Šï¼‰ã€‚æˆ‘ä»¬ç‚¹æ–°å»ºï¼ˆ<code>Create New File</code>ï¼‰æŒ‰é’®ï¼Œå°±å¯ä»¥åˆ›å»ºä¸€ä¸ªç©ºç™½çš„<code>solidity</code>åˆçº¦ã€‚</p><p><img src="https://www.wtf.academy/assets/images/1-1-59ec4df354181363259759212e42dad1.png" alt="remix"></p><h2 id="ç¬¬ä¸€ä¸ªsolidityç¨‹åº" tabindex="-1">ç¬¬ä¸€ä¸ªSolidityç¨‹åº <a class="header-anchor" href="#ç¬¬ä¸€ä¸ªsolidityç¨‹åº" aria-hidden="true">#</a></h2><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// SPDX-License-Identifier: MIT</span></span>
<span class="line"><span style="color:#F97583;">pragma</span><span style="color:#E1E4E8;"> </span><span style="color:#85E89D;">solidity</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">^0.8.4</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">contract</span><span style="color:#B392F0;"> HelloWeb3</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _string </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Hello Web3!&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>æˆ‘ä»¬æ‹†å¼€åˆ†æï¼Œå­¦ä¹ solidityä»£ç æºæ–‡ä»¶çš„ç»“æ„ï¼š</p><ol><li>ç¬¬1è¡Œæ˜¯æ³¨é‡Šï¼Œä¼šå†™ä¸€ä¸‹è¿™ä¸ªä»£ç æ‰€ç”¨çš„è½¯ä»¶è®¸å¯ï¼ˆlicenseï¼‰ï¼Œè¿™é‡Œç”¨çš„æ˜¯MIT licenseã€‚å¦‚æœä¸å†™è®¸å¯ï¼Œç¼–è¯‘æ—¶ä¼šè­¦å‘Šï¼ˆwarningï¼‰ï¼Œä½†ç¨‹åºå¯ä»¥è¿è¡Œã€‚solidityçš„æ³¨é‡Šç”±â€œ//â€å¼€å¤´ï¼Œåé¢è·Ÿæ³¨é‡Šçš„å†…å®¹ï¼ˆä¸ä¼šè¢«ç¨‹åºè¿è¡Œï¼‰ã€‚</li></ol><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// SPDX-License-Identifier: MIT</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol><li>ç¬¬2è¡Œå£°æ˜æºæ–‡ä»¶æ‰€ç”¨çš„solidityç‰ˆæœ¬ï¼Œå› ä¸ºä¸åŒç‰ˆæœ¬è¯­æ³•æœ‰å·®åˆ«ã€‚è¿™è¡Œä»£ç æ„æ€æ˜¯æºæ–‡ä»¶å°†ä¸å…è®¸å°äº 0.8.4 ç‰ˆæœ¬æˆ–å¤§äºç­‰äº 0.9.0 ç‰ˆæœ¬çš„ç¼–è¯‘å™¨ç¼–è¯‘ï¼ˆç¬¬äºŒä¸ªæ¡ä»¶ç”±<code>^</code>æä¾›ï¼‰ã€‚Solidity è¯­å¥ä»¥åˆ†å·ï¼ˆ;ï¼‰ç»“å°¾ã€‚</li></ol><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#F97583;">pragma</span><span style="color:#E1E4E8;"> </span><span style="color:#85E89D;">solidity</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">^0.8.4</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol><li>ç¬¬3-4è¡Œæ˜¯åˆçº¦éƒ¨åˆ†ï¼Œç¬¬3è¡Œåˆ›å»ºåˆçº¦ï¼ˆcontractï¼‰ï¼Œå¹¶å£°æ˜åˆçº¦çš„åå­— HelloWeb3ã€‚ç¬¬4è¡Œæ˜¯åˆçº¦çš„å†…å®¹ï¼Œæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªstringï¼ˆå­—ç¬¦ä¸²ï¼‰å˜é‡_stringï¼Œå¹¶ç»™ä»–èµ‹å€¼ â€œHello Web3!â€ã€‚</li></ol><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#F97583;">contract</span><span style="color:#B392F0;"> HelloWeb3</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _string </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Hello Web3!&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="ç¼–è¯‘å¹¶éƒ¨ç½²ä»£ç " tabindex="-1">ç¼–è¯‘å¹¶éƒ¨ç½²ä»£ç  <a class="header-anchor" href="#ç¼–è¯‘å¹¶éƒ¨ç½²ä»£ç " aria-hidden="true">#</a></h2><p>åœ¨ç¼–è¾‘ä»£ç çš„é¡µé¢ï¼ŒæŒ‰ctrl+Så°±å¯ä»¥ç¼–è¯‘ä»£ç ï¼Œéå¸¸æ–¹ä¾¿ã€‚</p><p>ç¼–è¯‘å¥½ä¹‹åï¼Œç‚¹å‡»å·¦ä¾§èœå•çš„â€œéƒ¨ç½²â€æŒ‰é’®ï¼Œè¿›å…¥éƒ¨ç½²é¡µé¢ã€‚</p><p><img src="https://www.wtf.academy/assets/images/1-2-e3548890cecc06c795a172d811ccc0e6.png" alt="img"></p><p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œremixä¼šç”¨JSè™šæ‹Ÿæœºæ¥æ¨¡æ‹Ÿä»¥å¤ªåŠé“¾ï¼Œè¿è¡Œæ™ºèƒ½åˆçº¦ï¼Œç±»ä¼¼åœ¨æµè§ˆå™¨é‡Œè·‘ä¸€æ¡æµ‹è¯•é“¾ã€‚å¹¶ä¸”remixä¼šåˆ†é…å‡ ä¸ªæµ‹è¯•è´¦æˆ·ç»™ä½ ï¼Œæ¯ä¸ªé‡Œé¢æœ‰100 ETHï¼ˆæµ‹è¯•ä»£å¸ï¼‰ï¼Œå¯åŠ²å„¿ç”¨ã€‚ä½ ç‚¹Deployï¼ˆé»„è‰²æŒ‰é’®ï¼‰ï¼Œå°±å¯ä»¥éƒ¨ç½²å’±ä»¬å†™å¥½çš„åˆçº¦äº†ã€‚</p><p><img src="https://www.wtf.academy/assets/images/1-3-7efd0f70cd17c437f6ec29fc6d28c0d6.png" alt="img"></p><p>éƒ¨ç½²æˆåŠŸåï¼Œä½ ä¼šåœ¨ä¸‹é¢çœ‹åˆ°åä¸º<code>HelloWeb3</code>çš„åˆçº¦ï¼Œç‚¹å‡»<code>_string</code>ï¼Œå°±èƒ½çœ‹åˆ°æˆ‘ä»¬ä»£ç ä¸­å†™çš„ â€œHello Web3!â€ äº†ã€‚</p><h3 id="solidityä¸­çš„å˜é‡ç±»å‹" tabindex="-1">Solidityä¸­çš„å˜é‡ç±»å‹ <a class="header-anchor" href="#solidityä¸­çš„å˜é‡ç±»å‹" aria-hidden="true">#</a></h3><ol><li><strong>æ•°å€¼ç±»å‹(Value Type)</strong>ï¼šåŒ…æ‹¬å¸ƒå°”å‹ï¼Œæ•´æ•°å‹ç­‰ç­‰ï¼Œè¿™ç±»å˜é‡èµ‹å€¼æ—¶å€™ç›´æ¥ä¼ é€’æ•°å€¼ã€‚</li><li><strong>å¼•ç”¨ç±»å‹(Reference Type)</strong>ï¼šåŒ…æ‹¬æ•°ç»„å’Œç»“æ„ä½“ï¼Œè¿™ç±»å˜é‡å ç©ºé—´å¤§ï¼Œèµ‹å€¼æ—¶å€™ç›´æ¥ä¼ é€’åœ°å€ï¼ˆç±»ä¼¼æŒ‡é’ˆï¼‰ã€‚</li><li><strong>æ˜ å°„ç±»å‹(Mapping Type)</strong>: <code>Solidity</code>é‡Œçš„å“ˆå¸Œè¡¨ã€‚</li><li><strong>å‡½æ•°ç±»å‹(Function Type)</strong>ï¼š<code>Solidity</code>æ–‡æ¡£é‡ŒæŠŠå‡½æ•°å½’åˆ°æ•°å€¼ç±»å‹ï¼Œä½†æˆ‘è§‰å¾—ä»–è·Ÿå…¶ä»–ç±»å‹å·®åˆ«å¾ˆå¤§ï¼Œæ‰€ä»¥å•ç‹¬åˆ†ä¸€ç±»ã€‚</li></ol><p>æˆ‘ä»¬åªä»‹ç»ä¸€äº›å¸¸ç”¨çš„ç±»å‹ï¼Œä¸å¸¸ç”¨çš„ä¸è®²ã€‚è¿™ç¯‡ä»‹ç»æ•°å€¼ç±»å‹ï¼Œç¬¬3è®²ä»‹ç»å‡½æ•°ç±»å‹ï¼Œç¬¬4è®²ä»‹ç»å¼•ç”¨å’Œæ˜ å°„ã€‚</p><h2 id="æ•°å€¼ç±»å‹" tabindex="-1">æ•°å€¼ç±»å‹ <a class="header-anchor" href="#æ•°å€¼ç±»å‹" aria-hidden="true">#</a></h2><h3 id="_1-å¸ƒå°”å‹" tabindex="-1">1. å¸ƒå°”å‹ <a class="header-anchor" href="#_1-å¸ƒå°”å‹" aria-hidden="true">#</a></h3><p>å¸ƒå°”å‹æ˜¯äºŒå€¼å˜é‡ï¼Œå–å€¼ä¸º<code>true</code>æˆ–<code>false</code>ã€‚</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// å¸ƒå°”å€¼</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">bool</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _bool </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>å¸ƒå°”å€¼çš„è¿ç®—ç¬¦ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>! ï¼ˆé€»è¾‘éï¼‰</li><li>&amp;&amp; ï¼ˆé€»è¾‘ä¸ï¼Œ &quot;and&quot; ï¼‰</li><li>|| ï¼ˆé€»è¾‘æˆ–ï¼Œ &quot;or&quot; ï¼‰</li><li>== ï¼ˆç­‰äºï¼‰</li><li>!= ï¼ˆä¸ç­‰äºï¼‰</li></ul><p>ä»£ç ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// å¸ƒå°”è¿ç®—</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">bool</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _bool1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">_bool; </span><span style="color:#6A737D;">//å–é</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">bool</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _bool2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> _bool </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> _bool1; </span><span style="color:#6A737D;">//ä¸</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">bool</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _bool3 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> _bool </span><span style="color:#F97583;">||</span><span style="color:#E1E4E8;"> _bool1; </span><span style="color:#6A737D;">//æˆ–</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">bool</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _bool4 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> _bool </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> _bool1; </span><span style="color:#6A737D;">//ç›¸ç­‰</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">bool</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _bool5 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> _bool </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> _bool1; </span><span style="color:#6A737D;">//ä¸ç›¸ç­‰</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>ä¸Šé¢çš„ä»£ç ä¸­ï¼šå˜é‡<code>_bool</code>çš„å–å€¼æ˜¯<code>true</code>ï¼›<code>_bool1</code>æ˜¯<code>_bool</code>çš„éï¼Œä¸º<code>false</code>ï¼›<code>_bool &amp;&amp; _bool1</code>ä¸º<code>false</code>ï¼›<code>_bool || _bool1</code>ä¸º<code>true</code>ï¼›<code>_bool == _bool1</code>ä¸º<code>false</code>ï¼›<code>_bool != _bool1</code>ä¸º<code>true</code>ã€‚ <strong>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š</strong><code>&amp;&amp;</code> å’Œ <code>||</code>è¿ç®—ç¬¦éµå¾ªçŸ­è·¯è§„åˆ™ï¼Œè¿™æ„å‘³ç€ï¼Œå‡å¦‚å­˜åœ¨<code>f(x) || g(y)</code>çš„è¡¨è¾¾å¼ï¼Œå¦‚æœ<code>f(x)</code>æ˜¯<code>true</code>ï¼Œ<code>g(y)</code>ä¸ä¼šè¢«è®¡ç®—ï¼Œå³ä½¿å®ƒå’Œ<code>f(x)</code>çš„ç»“æœæ˜¯ç›¸åçš„</p><h3 id="_2-æ•´å‹" tabindex="-1">2. æ•´å‹ <a class="header-anchor" href="#_2-æ•´å‹" aria-hidden="true">#</a></h3><p>æ•´å‹æ˜¯<code>solidity</code>ä¸­çš„æ•´æ•°ï¼Œæœ€å¸¸ç”¨çš„åŒ…æ‹¬</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// æ•´å‹</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _int </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// æ•´æ•°ï¼ŒåŒ…æ‹¬è´Ÿæ•°</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _uint </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// æ­£æ•´æ•°</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _number </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">20220330</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// 256ä½æ­£æ•´æ•°</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>å¸¸ç”¨çš„æ•´å‹è¿ç®—ç¬¦åŒ…æ‹¬ï¼š</p><ul><li>æ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆè¿”å›å¸ƒå°”å€¼ï¼‰ï¼š <code>&lt;=</code>ï¼Œ <code>&lt;</code>ï¼Œ <code>==</code>ï¼Œ <code>!=</code>ï¼Œ <code>&gt;=</code>ï¼Œ <code>&gt;</code></li><li>ç®—æ•°è¿ç®—ç¬¦ï¼š <code>+</code>ï¼Œ <code>-</code>ï¼Œ ä¸€å…ƒè¿ç®— <code>-</code>ï¼Œ <code>+</code>ï¼Œ <code>*</code>ï¼Œ <code>/</code>ï¼Œ <code>%</code>ï¼ˆå–ä½™ï¼‰ï¼Œ<code>**</code>ï¼ˆå¹‚ï¼‰</li></ul><p>ä»£ç ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// æ•´æ•°è¿ç®—</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _number1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> _number </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// +ï¼Œ-ï¼Œ*ï¼Œ/</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _number2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#F97583;">**</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// æŒ‡æ•°</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _number3 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">7</span><span style="color:#E1E4E8;"> % </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// å–ä½™æ•°</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">bool</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _numberbool </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> _number2 </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> _number3; </span><span style="color:#6A737D;">// æ¯”å¤§å°</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_3-åœ°å€ç±»å‹" tabindex="-1">3. åœ°å€ç±»å‹ <a class="header-anchor" href="#_3-åœ°å€ç±»å‹" aria-hidden="true">#</a></h3><p>åœ°å€ç±»å‹(address)å­˜å‚¨ä¸€ä¸ª 20 å­—èŠ‚çš„å€¼ï¼ˆä»¥å¤ªåŠåœ°å€çš„å¤§å°ï¼‰ã€‚åœ°å€ç±»å‹ä¹Ÿæœ‰æˆå‘˜å˜é‡ï¼Œå¹¶ä½œä¸ºæ‰€æœ‰åˆçº¦çš„åŸºç¡€ã€‚æœ‰æ™®é€šçš„åœ°å€å’Œå¯ä»¥è½¬è´¦<code>ETH</code>çš„åœ°å€ï¼ˆ<code>payable</code>ï¼‰ã€‚<code>payable</code>çš„åœ°å€æ‹¥æœ‰<code>balance</code>å’Œ<code>transfer()</code>ä¸¤ä¸ªæˆå‘˜ï¼Œæ–¹ä¾¿æŸ¥è¯¢<code>ETH</code>ä½™é¢ä»¥åŠè½¬è´¦ã€‚</p><p>ä»£ç </p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// åœ°å€</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">address</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _address </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0x7A58c0Be72BE218B41C608b7Fe7C5bB630736C71</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">address</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">payable</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _address1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">payable</span><span style="color:#E1E4E8;">(_address); </span><span style="color:#6A737D;">// payable addressï¼Œå¯ä»¥è½¬è´¦ã€æŸ¥ä½™é¢</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// åœ°å€ç±»å‹çš„æˆå‘˜</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> balance </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> _address1.balance; </span><span style="color:#6A737D;">// balance of address</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_4-å®šé•¿å­—èŠ‚æ•°ç»„" tabindex="-1">4. å®šé•¿å­—èŠ‚æ•°ç»„ <a class="header-anchor" href="#_4-å®šé•¿å­—èŠ‚æ•°ç»„" aria-hidden="true">#</a></h3><p>å­—èŠ‚æ•°ç»„<code>bytes</code>åˆ†ä¸¤ç§ï¼Œä¸€ç§å®šé•¿ï¼ˆ<code>byte</code>, <code>bytes8</code>, <code>bytes32</code>ï¼‰ï¼Œå¦ä¸€ç§ä¸å®šé•¿ã€‚å®šé•¿çš„å±äºæ•°å€¼ç±»å‹ï¼Œä¸å®šé•¿çš„æ˜¯å¼•ç”¨ç±»å‹ï¼ˆä¹‹åè®²ï¼‰ã€‚ å®šé•¿<code>bytes</code>å¯ä»¥å­˜ä¸€äº›æ•°æ®ï¼Œæ¶ˆè€—<code>gas</code>æ¯”è¾ƒå°‘ã€‚</p><p>ä»£ç ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// å›ºå®šé•¿åº¦çš„å­—èŠ‚æ•°ç»„</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">bytes32</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _byte32 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;MiniSolidity&quot;</span><span style="color:#E1E4E8;">; </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">bytes1</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _byte </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> _byte32[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">]; </span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#e1e4e8;">MiniSolidity\`å˜é‡ä»¥å­—èŠ‚çš„æ–¹å¼å­˜å‚¨è¿›å˜é‡\`_byte32\`ï¼Œè½¬æ¢æˆ\`16è¿›åˆ¶\`ä¸ºï¼š\`0x4d696e69536f6c69646974790000000000000000000000000000000000000000</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>_byte</code>å˜é‡å­˜å‚¨<code>_byte32</code>çš„ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼Œä¸º<code>0x4d</code>ã€‚</p><h3 id="_5-æšä¸¾-enum" tabindex="-1">5. æšä¸¾ enum <a class="header-anchor" href="#_5-æšä¸¾-enum" aria-hidden="true">#</a></h3><p>æšä¸¾ï¼ˆ<code>enum</code>ï¼‰æ˜¯<code>solidity</code>ä¸­ç”¨æˆ·å®šä¹‰çš„æ•°æ®ç±»å‹ã€‚å®ƒä¸»è¦ç”¨äºä¸º<code>uint</code>åˆ†é…åç§°ï¼Œä½¿ç¨‹åºæ˜“äºé˜…è¯»å’Œç»´æŠ¤ã€‚å®ƒä¸<code>Cè¯­è¨€</code>ä¸­çš„<code>enum</code>ç±»ä¼¼ï¼Œä½¿ç”¨åç§°æ¥ä»£æ›¿ä»<code>0</code>å¼€å§‹çš„<code>uint</code>ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// ç”¨enumå°†uint 0ï¼Œ 1ï¼Œ 2è¡¨ç¤ºä¸ºBuy, Hold, Sell</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">enum</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ActionSet</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">Buy</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">Hold</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">Sell</span><span style="color:#E1E4E8;"> }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// åˆ›å»ºenumå˜é‡ action</span></span>
<span class="line"><span style="color:#E1E4E8;">    ActionSet action </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> ActionSet.Buy;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>å®ƒå¯ä»¥æ˜¾å¼çš„å’Œ<code>uint</code>ç›¸äº’è½¬æ¢ï¼Œå¹¶ä¼šæ£€æŸ¥è½¬æ¢çš„æ­£æ•´æ•°æ˜¯å¦åœ¨æšä¸¾çš„é•¿åº¦å†…ï¼Œä¸ç„¶ä¼šæŠ¥é”™ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// enumå¯ä»¥å’Œuintæ˜¾å¼çš„è½¬æ¢</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">enumToUint</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">external</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">view</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">returns</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">(action);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="åœ¨remixä¸ŠéªŒè¯" tabindex="-1">åœ¨remixä¸ŠéªŒè¯ <a class="header-anchor" href="#åœ¨remixä¸ŠéªŒè¯" aria-hidden="true">#</a></h3><ul><li>éƒ¨ç½²åˆçº¦åå¯ä»¥æŸ¥çœ‹æ¯ä¸ªç±»å‹çš„å˜é‡å…·ä½“çš„æ•°å€¼ <img src="https://bed-1309358403.cos.ap-shanghai.myqcloud.com/img/2-1-90414d7e21f49e75101a07a8a55e602c.png" alt="2-1.png"></li><li>enumå’Œuintè½¬æ¢çš„ç¤ºä¾‹ <img src="https://www.wtf.academy/assets/images/2-2-6c364618b30e6c498127e2d129f9e7e8.png" alt="2-2.png"><img src="https://www.wtf.academy/assets/images/2-3-d2742673ffbd4df5c230d48a02a2921c.png" alt="2-3.png"></li></ul><h3 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a></h3><p>åœ¨è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ä»‹ç»äº†<code>solidity</code>ä¸­4ç§å˜é‡ç±»å‹ï¼Œå¹¶è¯¦ç»†ä»‹ç»äº†æ•°å€¼å˜é‡ï¼ˆ<code>value type</code>)ä¸­çš„å¸ƒå°”å‹ï¼Œæ•´å‹ï¼Œåœ°å€ï¼Œå®šé•¿å­—èŠ‚æ•°ç»„å’Œæšä¸¾ã€‚ä¹‹åæˆ‘ä»¬ä¼šä»‹ç»å…¶ä»–å‡ ç§ç±»å‹ã€‚</p><h2 id="solidityä¸­çš„å‡½æ•°" tabindex="-1">Solidityä¸­çš„å‡½æ•° <a class="header-anchor" href="#solidityä¸­çš„å‡½æ•°" aria-hidden="true">#</a></h2><p>solidityå®˜æ–¹æ–‡æ¡£é‡ŒæŠŠå‡½æ•°å½’åˆ°æ•°å€¼ç±»å‹ï¼Œä½†æˆ‘è§‰å¾—å·®åˆ«å¾ˆå¤§ï¼Œæ‰€ä»¥å•ç‹¬åˆ†ä¸€ç±»ã€‚æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹solidityä¸­å‡½æ•°çš„å½¢å¼ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    function </span><span style="color:#F97583;">&lt;function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">name</span><span style="color:#E1E4E8;">&gt; (&lt;</span><span style="color:#B392F0;">parameter</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">types</span><span style="color:#E1E4E8;">&gt;) {</span><span style="color:#F97583;">internal|external|public|private</span><span style="color:#E1E4E8;">} [</span><span style="color:#F97583;">pure|view|payable</span><span style="color:#E1E4E8;">] [</span><span style="color:#F97583;">returns</span><span style="color:#E1E4E8;"> (&lt;</span><span style="color:#FFAB70;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">types</span><span style="color:#E1E4E8;">&gt;)]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>çœ‹ç€äº›å¤æ‚ï¼Œå’±ä»¬ä»å‰å¾€åä¸€ä¸ªä¸€ä¸ªçœ‹ï¼ˆæ–¹æ‹¬å·ä¸­çš„æ˜¯å¯å†™å¯ä¸å†™çš„å…³é”®å­—ï¼‰ï¼š</p><ol><li><code>function</code>ï¼šå£°æ˜å‡½æ•°æ—¶çš„å›ºå®šç”¨æ³•ï¼Œæƒ³å†™å‡½æ•°ï¼Œå°±è¦ä»¥functionå…³é”®å­—å¼€å¤´ã€‚</li><li><code>&lt;function name&gt;</code>ï¼šå‡½æ•°åã€‚</li><li><code>(&lt;parameter types&gt;)</code>ï¼šåœ†æ‹¬å·é‡Œå†™å‡½æ•°çš„å‚æ•°ï¼Œä¹Ÿå°±æ˜¯è¦è¾“å…¥åˆ°å‡½æ•°çš„å˜é‡ç±»å‹å’Œåå­—ã€‚</li><li><code>{internal|external|public|private}</code>ï¼šå‡½æ•°å¯è§æ€§è¯´æ˜ç¬¦ï¼Œä¸€å…±4ç§ã€‚æ²¡æ ‡æ˜å‡½æ•°ç±»å‹çš„ï¼Œé»˜è®¤<code>internal</code>ã€‚ <ul><li><code>public</code>: å†…éƒ¨å¤–éƒ¨å‡å¯è§ã€‚(ä¹Ÿå¯ç”¨äºä¿®é¥°çŠ¶æ€å˜é‡ï¼Œpublicå˜é‡ä¼šè‡ªåŠ¨ç”Ÿæˆ <code>getter</code>å‡½æ•°ï¼Œç”¨äºæŸ¥è¯¢æ•°å€¼).</li><li><code>private</code>: åªèƒ½ä»æœ¬åˆçº¦å†…éƒ¨è®¿é—®ï¼Œç»§æ‰¿çš„åˆçº¦ä¹Ÿä¸èƒ½ç”¨ï¼ˆä¹Ÿå¯ç”¨äºä¿®é¥°çŠ¶æ€å˜é‡ï¼‰ã€‚</li><li><code>external</code>: åªèƒ½ä»åˆçº¦å¤–éƒ¨è®¿é—®ï¼ˆä½†æ˜¯å¯ä»¥ç”¨<code>this.f()</code>æ¥è°ƒç”¨ï¼Œ<code>f</code>æ˜¯å‡½æ•°åï¼‰</li><li><code>internal</code>: åªèƒ½ä»åˆçº¦å†…éƒ¨è®¿é—®ï¼Œç»§æ‰¿çš„åˆçº¦å¯ä»¥ç”¨ï¼ˆä¹Ÿå¯ç”¨äºä¿®é¥°çŠ¶æ€å˜é‡ï¼‰ã€‚</li></ul></li><li><code>[pure|view|payable]</code>ï¼šå†³å®šå‡½æ•°æƒé™/åŠŸèƒ½çš„å…³é”®å­—ã€‚<code>payable</code>ï¼ˆå¯æ”¯ä»˜çš„ï¼‰å¾ˆå¥½ç†è§£ï¼Œå¸¦ç€å®ƒçš„å‡½æ•°ï¼Œè¿è¡Œçš„æ—¶å€™å¯ä»¥ç»™åˆçº¦è½¬å…¥<code>ETH</code>ã€‚<code>pure</code>å’Œ<code>view</code>çš„ä»‹ç»è§ä¸‹ä¸€èŠ‚ã€‚</li><li><code>[returns ()]</code>ï¼šå‡½æ•°è¿”å›çš„å˜é‡ç±»å‹å’Œåç§°ã€‚</li></ol><h3 id="åˆ°åº•ä»€ä¹ˆæ˜¯pureå’Œview" tabindex="-1">åˆ°åº•ä»€ä¹ˆæ˜¯<code>Pure</code>å’Œ<code>View</code>ï¼Ÿ <a class="header-anchor" href="#åˆ°åº•ä»€ä¹ˆæ˜¯pureå’Œview" aria-hidden="true">#</a></h3><p>æˆ‘åˆšå¼€å§‹å­¦<code>solidity</code>çš„æ—¶å€™ï¼Œä¸€ç›´ä¸ç†è§£<code>pure</code>è·Ÿ<code>view</code>å…³é”®å­—ï¼Œå› ä¸ºåˆ«çš„è¯­è¨€æ²¡æœ‰ç±»ä¼¼çš„å…³é”®å­—ã€‚<code>solidity</code>åŠ å…¥è¿™ä¸¤ä¸ªå…³é”®å­—ï¼Œæˆ‘è®¤ä¸ºæ˜¯å› ä¸º<code>gas fee</code>ã€‚åˆçº¦çš„çŠ¶æ€å˜é‡å­˜å‚¨åœ¨é“¾ä¸Šï¼Œ<code>gas fee</code>å¾ˆè´µï¼Œå¦‚æœä¸æ”¹å˜é“¾ä¸ŠçŠ¶æ€ï¼Œå°±ä¸ç”¨ä»˜<code>gas</code>ã€‚åŒ…å«<code>pure</code>è·Ÿ<code>view</code>å…³é”®å­—çš„å‡½æ•°æ˜¯ä¸æ”¹å†™é“¾ä¸ŠçŠ¶æ€çš„ï¼Œå› æ­¤ç”¨æˆ·ç›´æ¥è°ƒç”¨ä»–ä»¬æ˜¯ä¸éœ€è¦ä»˜gasçš„ï¼ˆåˆçº¦ä¸­é<code>pure</code>/<code>view</code>å‡½æ•°è°ƒç”¨å®ƒä»¬åˆ™ä¼šæ”¹å†™é“¾ä¸ŠçŠ¶æ€ï¼Œéœ€è¦ä»˜gasï¼‰ã€‚</p><p>åœ¨ä»¥å¤ªåŠä¸­ï¼Œä»¥ä¸‹è¯­å¥è¢«è§†ä¸ºä¿®æ”¹é“¾ä¸ŠçŠ¶æ€ï¼š</p><ol><li>å†™å…¥çŠ¶æ€å˜é‡ã€‚</li><li>é‡Šæ”¾äº‹ä»¶ã€‚</li><li>åˆ›å»ºå…¶ä»–åˆåŒã€‚</li><li>ä½¿ç”¨<code>selfdestruct</code>.</li><li>é€šè¿‡è°ƒç”¨å‘é€ä»¥å¤ªå¸ã€‚</li><li>è°ƒç”¨ä»»ä½•æœªæ ‡è®°<code>view</code>æˆ–<code>pure</code>çš„å‡½æ•°ã€‚</li><li>ä½¿ç”¨ä½çº§è°ƒç”¨ï¼ˆlow-level callsï¼‰ã€‚</li><li>ä½¿ç”¨åŒ…å«æŸäº›æ“ä½œç çš„å†…è”æ±‡ç¼–ã€‚</li></ol><p>æˆ‘ç”»äº†ä¸€ä¸ªé©¬é‡Œå¥¥æ’ç”»ï¼Œå¸®åŠ©å¤§å®¶ç†è§£ã€‚åœ¨æ’ç”»é‡Œï¼Œæˆ‘æŠŠåˆçº¦ä¸­çš„çŠ¶æ€å˜é‡ï¼ˆå­˜å‚¨åœ¨é“¾ä¸Šï¼‰æ¯”ä½œç¢§æ± å…¬ä¸»ï¼Œä¸‰ç§ä¸åŒçš„è§’è‰²ä»£è¡¨ä¸åŒçš„å…³é”®å­—ã€‚</p><p><img src="https://images.mirror-media.xyz/publication-images/1B9kHsTYnDY_QURSWMmPb.png?height=1028&amp;width=1758" alt="WTH is pure and view in solidity?"></p><ul><li><code>pure</code>ï¼Œä¸­æ–‡æ„æ€æ˜¯â€œçº¯â€ï¼Œåœ¨<code>solidity</code>é‡Œç†è§£ä¸ºâ€œçº¯çº¯ç‰›é©¬â€ã€‚åŒ…å«<code>pure</code>å…³é”®å­—çš„å‡½æ•°ï¼Œä¸èƒ½è¯»å–ä¹Ÿä¸èƒ½å†™å…¥å­˜å‚¨åœ¨é“¾ä¸Šçš„çŠ¶æ€å˜é‡ã€‚å°±åƒå°æ€ªä¸€æ ·ï¼Œçœ‹ä¸åˆ°ä¹Ÿæ‘¸ä¸åˆ°ç¢§æ± å…¬ä¸»ã€‚</li><li><code>view</code>ï¼Œâ€œçœ‹â€ï¼Œåœ¨<code>solidity</code>é‡Œç†è§£ä¸ºâ€œçœ‹å®¢â€ã€‚åŒ…å«<code>view</code>å…³é”®å­—çš„å‡½æ•°ï¼Œèƒ½è¯»å–ä½†ä¹Ÿä¸èƒ½å†™å…¥çŠ¶æ€å˜é‡ã€‚ç±»ä¼¼é©¬é‡Œå¥¥ï¼Œèƒ½çœ‹åˆ°ç¢§æ± ï¼Œä½†ç»ˆç©¶æ˜¯çœ‹å®¢ï¼Œä¸èƒ½å…¥æ´æˆ¿ã€‚</li><li>ä¸å†™<code>pure</code>ä¹Ÿä¸å†™<code>view</code>ï¼Œå‡½æ•°æ—¢å¯ä»¥è¯»å–ä¹Ÿå¯ä»¥å†™å…¥çŠ¶æ€å˜é‡ã€‚ç±»ä¼¼é©¬é‡Œå¥¥é‡Œçš„<code>boss</code>ï¼Œå¯ä»¥å¯¹ç¢§æ± å…¬ä¸»ä¸ºæ‰€æ¬²ä¸ºğŸ¶ã€‚</li></ul><h3 id="ä»£ç " tabindex="-1">ä»£ç  <a class="header-anchor" href="#ä»£ç " aria-hidden="true">#</a></h3><h4 id="_1-pure-v-s-view" tabindex="-1">1. pure v.s. view <a class="header-anchor" href="#_1-pure-v-s-view" aria-hidden="true">#</a></h4><p>æˆ‘ä»¬åœ¨åˆçº¦é‡Œå®šä¹‰ä¸€ä¸ªçŠ¶æ€å˜é‡ <code>number = 5</code>ã€‚</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// SPDX-License-Identifier: MIT</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">pragma</span><span style="color:#E1E4E8;"> </span><span style="color:#85E89D;">solidity</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">^0.8.4</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">contract</span><span style="color:#B392F0;"> FunctionTypes</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> number </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>å®šä¹‰ä¸€ä¸ª<code>add()</code>å‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨ï¼Œæ¯æ¬¡ç»™<code>number + 1</code>ã€‚</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// é»˜è®¤</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">add</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">external</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        number </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> number </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>å¦‚æœ<code>add()</code>åŒ…å«äº†<code>pure</code>å…³é”®å­—ï¼Œä¾‹å¦‚ <code>function add() pure external</code>ï¼Œå°±ä¼šæŠ¥é”™ã€‚å› ä¸º<code>pure</code>ï¼ˆçº¯çº¯ç‰›é©¬ï¼‰æ˜¯ä¸é…è¯»å–åˆçº¦é‡Œçš„çŠ¶æ€å˜é‡çš„ï¼Œæ›´ä¸é…æ”¹å†™ã€‚é‚£<code>pure</code>å‡½æ•°èƒ½åšäº›ä»€ä¹ˆï¼Ÿä¸¾ä¸ªä¾‹å­ï¼Œä½ å¯ä»¥ç»™å‡½æ•°ä¼ é€’ä¸€ä¸ªå‚æ•° <code>_number</code>ï¼Œç„¶åè®©ä»–è¿”å› <code>_number+1</code>ã€‚</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// pure: çº¯çº¯ç‰›é©¬</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">addPure</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> _number) </span><span style="color:#F97583;">external</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">pure</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">returns</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">new_number</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">        new_number </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> _number</span><span style="color:#F97583;">+</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>Example:</strong> <img src="https://www.wtf.academy/assets/images/3-3-5b5c10d460fd4d9721009d3a94a44ebb.png" alt="3-3.png"></p><p>å¦‚æœ<code>add()</code>åŒ…å«<code>view</code>ï¼Œæ¯”å¦‚<code>function add() view external</code>ï¼Œä¹Ÿä¼šæŠ¥é”™ã€‚å› ä¸º<code>view</code>èƒ½è¯»å–ï¼Œä½†ä¸èƒ½å¤Ÿæ”¹å†™çŠ¶æ€å˜é‡ã€‚å¯ä»¥ç¨å¾®æ”¹å†™ä¸‹æ–¹ç¨‹ï¼Œè®©ä»–ä¸æ”¹å†™<code>number</code>ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å˜é‡ã€‚</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// view: çœ‹å®¢</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">addView</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">external</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">view</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">returns</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">new_number</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        new_number </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> number </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>Example:</strong> <img src="https://www.wtf.academy/assets/images/3-4-049b8caacda74a086158981824991cb3.png" alt="3-4.png"></p><h4 id="_2-internal-v-s-external" tabindex="-1">2. internal v.s. external <a class="header-anchor" href="#_2-internal-v-s-external" aria-hidden="true">#</a></h4><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// internal: å†…éƒ¨</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">minus</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">internal</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        number </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> number </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// åˆçº¦å†…çš„å‡½æ•°å¯ä»¥è°ƒç”¨å†…éƒ¨å‡½æ•°</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">minusCall</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">external</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">minus</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>æˆ‘ä»¬å®šä¹‰ä¸€ä¸ª<code>internal</code>çš„<code>minus()</code>å‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨ä½¿å¾—<code>number</code>å˜é‡å‡1ã€‚ç”±äºæ˜¯<code>internal</code>ï¼Œåªèƒ½ç”±åˆçº¦å†…éƒ¨è°ƒç”¨ï¼Œè€Œå¤–éƒ¨ä¸èƒ½ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»å†å®šä¹‰ä¸€ä¸ª<code>external</code>çš„<code>minusCall()</code>å‡½æ•°ï¼Œæ¥é—´æ¥è°ƒç”¨å†…éƒ¨çš„<code>minus()</code>ã€‚ <strong>Example:</strong> <img src="https://www.wtf.academy/assets/images/3-1-7ddf1b1c7336bbdd36e3a1fc105b7422.png" alt="3-1.png"></p><h4 id="_3-payable" tabindex="-1">3. payable <a class="header-anchor" href="#_3-payable" aria-hidden="true">#</a></h4><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// payable: é€’é’±ï¼Œèƒ½ç»™åˆçº¦æ”¯ä»˜ethçš„å‡½æ•°</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">minusPayable</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">external</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">payable</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">returns</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">balance</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">minus</span><span style="color:#E1E4E8;">();    </span></span>
<span class="line"><span style="color:#E1E4E8;">        balance </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">address</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">).balance;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>æˆ‘ä»¬å®šä¹‰ä¸€ä¸ª<code>external payable</code>çš„<code>minusPayable()</code>å‡½æ•°ï¼Œé—´æ¥çš„è°ƒç”¨<code>minus()</code>ï¼Œå¹¶ä¸”è¿”å›åˆçº¦é‡Œçš„<code>ETH</code>ä½™é¢ï¼ˆ<code>this</code>å…³é”®å­—å¯ä»¥è®©æˆ‘ä»¬å¼•ç”¨åˆçº¦åœ°å€)ã€‚ æˆ‘ä»¬å¯ä»¥åœ¨è°ƒç”¨<code>minusPayable()</code>æ—¶ï¼Œå¾€åˆçº¦é‡Œè½¬å…¥1ä¸ª<code>ETH</code>ã€‚</p><p><img src="https://images.mirror-media.xyz/publication-images/ETDPN8myq7jFfAL8CUAFt.png?height=148&amp;width=588" alt="img"></p><p>æˆ‘ä»¬å¯ä»¥åœ¨è¿”å›çš„ä¿¡æ¯ä¸­çœ‹åˆ°ï¼Œåˆçº¦çš„ä½™é¢æ˜¯1 ETHã€‚</p><p><img src="https://images.mirror-media.xyz/publication-images/nGZ2pz0MvzgXuKrENJPYf.png?height=128&amp;width=1130" alt="img"></p><p><strong>Example:</strong> <img src="https://www.wtf.academy/assets/images/3-2-e1be980c21311dc80f6233dac763fd89.png" alt="3-2.png"></p><h3 id="æ€»ç»“-1" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“-1" aria-hidden="true">#</a></h3><p>åœ¨è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ä»‹ç»äº†<code>solidity</code>ä¸­çš„å‡½æ•°ç±»å‹ï¼Œæ¯”è¾ƒéš¾ç†è§£çš„æ˜¯<code>pure</code>å’Œ<code>view</code>ï¼Œåœ¨å…¶ä»–è¯­è¨€ä¸­æ²¡å‡ºç°è¿‡ã€‚<code>solidity</code>å¼•å…¥<code>pure</code>å’Œ<code>view</code>å…³é”®å­—ä¸»è¦æ˜¯ä¸ºäº†èŠ‚çœ<code>gas</code>å’Œæ§åˆ¶å‡½æ•°æƒé™ï¼šå¦‚æœç”¨æˆ·ç›´æ¥è°ƒç”¨<code>pure</code>/<code>view</code>æ–¹ç¨‹æ˜¯ä¸æ¶ˆè€—<code>gas</code>çš„ï¼ˆåˆçº¦ä¸­é<code>pure</code>/<code>view</code>å‡½æ•°è°ƒç”¨å®ƒä»¬åˆ™ä¼šæ”¹å†™é“¾ä¸ŠçŠ¶æ€ï¼Œéœ€è¦ä»˜gasï¼‰ã€‚</p><h2 id="å‡½æ•°è¾“å‡º" tabindex="-1">å‡½æ•°è¾“å‡º <a class="header-anchor" href="#å‡½æ•°è¾“å‡º" aria-hidden="true">#</a></h2><p>æˆ‘ä»¬å°†ä»‹ç»<code>Solidity</code>å‡½æ•°è¾“å‡ºï¼ŒåŒ…æ‹¬ï¼šè¿”å›å¤šç§å˜é‡ï¼Œå‘½åå¼è¿”å›ï¼Œä»¥åŠåˆ©ç”¨è§£æ„å¼èµ‹å€¼è¯»å–å…¨éƒ¨å’Œéƒ¨åˆ†è¿”å›å€¼ã€‚</p><h3 id="è¿”å›å€¼-returnå’Œreturns" tabindex="-1">è¿”å›å€¼ returnå’Œreturns <a class="header-anchor" href="#è¿”å›å€¼-returnå’Œreturns" aria-hidden="true">#</a></h3><p><code>Solidity</code>æœ‰ä¸¤ä¸ªå…³é”®å­—ä¸å‡½æ•°è¾“å‡ºç›¸å…³ï¼š<code>return</code>å’Œ<code>returns</code>ï¼Œä»–ä»¬çš„åŒºåˆ«åœ¨äºï¼š</p><ul><li><code>returns</code>åŠ åœ¨å‡½æ•°ååé¢ï¼Œç”¨äºå£°æ˜è¿”å›çš„å˜é‡ç±»å‹åŠå˜é‡åï¼›</li><li><code>return</code>ç”¨äºå‡½æ•°ä¸»ä½“ä¸­ï¼Œè¿”å›æŒ‡å®šçš„å˜é‡ã€‚</li></ul><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// è¿”å›å¤šä¸ªå˜é‡</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">returnMultiple</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">pure</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">returns</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">bool</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;">[</span><span style="color:#FFAB70;">3</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">memory</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, [</span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">),</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">]);</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ä¸Šé¢è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬å£°æ˜äº†<code>returnMultiple()</code>å‡½æ•°å°†æœ‰å¤šä¸ªè¾“å‡ºï¼š<code>returns(uint256, bool, uint256[3] memory)</code>ï¼Œæ¥ç€æˆ‘ä»¬åœ¨å‡½æ•°ä¸»ä½“ä¸­ç”¨<code>return(1, true, [uint256(1),2,5])</code>ç¡®å®šäº†è¿”å›å€¼ã€‚</p><h3 id="å‘½åå¼è¿”å›" tabindex="-1">å‘½åå¼è¿”å› <a class="header-anchor" href="#å‘½åå¼è¿”å›" aria-hidden="true">#</a></h3><p>æˆ‘ä»¬å¯ä»¥åœ¨<code>returns</code>ä¸­æ ‡æ˜è¿”å›å˜é‡çš„åç§°ï¼Œè¿™æ ·<code>solidity</code>ä¼šè‡ªåŠ¨ç»™è¿™äº›å˜é‡åˆå§‹åŒ–ï¼Œå¹¶ä¸”è‡ªåŠ¨è¿”å›è¿™äº›å‡½æ•°çš„å€¼ï¼Œä¸éœ€è¦åŠ <code>return</code>ã€‚</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// å‘½åå¼è¿”å›</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">returnNamed</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">pure</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">returns</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> _number, </span><span style="color:#79B8FF;">bool</span><span style="color:#E1E4E8;"> _bool, </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;">[</span><span style="color:#FFAB70;">3</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">memory</span><span style="color:#E1E4E8;"> _array){</span></span>
<span class="line"><span style="color:#E1E4E8;">        _number </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        _bool </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">; </span></span>
<span class="line"><span style="color:#E1E4E8;">        _array </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> [</span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">),</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ç”¨<code>returns(uint256 _number, bool _bool, uint256[3] memory _array)</code>å£°æ˜äº†è¿”å›å˜é‡ç±»å‹ä»¥åŠå˜é‡åã€‚è¿™æ ·ï¼Œæˆ‘ä»¬åœ¨ä¸»ä½“ä¸­åªéœ€è¦ç»™å˜é‡<code>_number</code>ï¼Œ<code>_bool</code>å’Œ<code>_array</code>èµ‹å€¼å°±å¯ä»¥è‡ªåŠ¨è¿”å›äº†ã€‚</p><p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨å‘½åå¼è¿”å›ä¸­ç”¨<code>return</code>æ¥è¿”å›å˜é‡ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// å‘½åå¼è¿”å›ï¼Œä¾ç„¶æ”¯æŒreturn</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">returnNamed2</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">pure</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">returns</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> _number, </span><span style="color:#79B8FF;">bool</span><span style="color:#E1E4E8;"> _bool, </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;">[</span><span style="color:#FFAB70;">3</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">memory</span><span style="color:#E1E4E8;"> _array){</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, [</span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">),</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">]);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="è§£æ„å¼èµ‹å€¼" tabindex="-1">è§£æ„å¼èµ‹å€¼ <a class="header-anchor" href="#è§£æ„å¼èµ‹å€¼" aria-hidden="true">#</a></h3><p><code>solidity</code>ä½¿ç”¨è§£æ„å¼èµ‹å€¼çš„è§„åˆ™ï¼Œæ”¯æŒè¯»å–å‡½æ•°çš„å…¨éƒ¨æˆ–éƒ¨åˆ†è¿”å›å€¼ã€‚</p><ul><li>è¯»å–æ‰€æœ‰è¿”å›å€¼ï¼šå£°æ˜å˜é‡ï¼Œå¹¶ä¸”å°†è¦èµ‹å€¼çš„å˜é‡ç”¨<code>,</code>éš”å¼€ï¼ŒæŒ‰é¡ºåºæ’åˆ—ã€‚</li></ul><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> _number;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">bool</span><span style="color:#E1E4E8;"> _bool;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;">[</span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">memory</span><span style="color:#E1E4E8;"> _array;</span></span>
<span class="line"><span style="color:#E1E4E8;">        (_number, _bool, _array) </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">returnNamed</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>è¯»å–éƒ¨åˆ†è¿”å›å€¼ï¼šå£°æ˜è¦è¯»å–çš„è¿”å›å€¼å¯¹åº”çš„å˜é‡ï¼Œä¸è¯»å–çš„ç•™ç©ºã€‚ä¸‹é¢è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬åªè¯»å–<code>_bool</code>ï¼Œè€Œä¸è¯»å–è¿”å›çš„<code>_number</code>å’Œ<code>_array</code>ï¼š</li></ul><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">        (, _bool2, ) </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">returnNamed</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="åœ¨remixä¸ŠéªŒè¯-1" tabindex="-1">åœ¨remixä¸ŠéªŒè¯ <a class="header-anchor" href="#åœ¨remixä¸ŠéªŒè¯-1" aria-hidden="true">#</a></h3><ul><li>éƒ¨ç½²åˆçº¦åæŸ¥çœ‹ä¸‰ç§è¿”å›æ–¹å¼çš„ç»“æœ <img src="https://www.wtf.academy/assets/images/4-1-3c115fdc5afcb11e3f9eb51b8e2abbd8.png" alt="img"></li></ul><h3 id="æ€»ç»“-2" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“-2" aria-hidden="true">#</a></h3><p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ä»‹ç»å‡½æ•°çš„è¿”å›å€¼<code>return</code>å’Œ<code>returns</code>ï¼ŒåŒ…æ‹¬ï¼šè¿”å›å¤šç§å˜é‡ï¼Œå‘½åå¼è¿”å›ï¼Œä»¥åŠåˆ©ç”¨è§£æ„å¼èµ‹å€¼è¯»å–å…¨éƒ¨å’Œéƒ¨åˆ†è¿”å›å€¼ã€‚</p><h2 id="solidityä¸­çš„å¼•ç”¨ç±»å‹" tabindex="-1">Solidityä¸­çš„å¼•ç”¨ç±»å‹ <a class="header-anchor" href="#solidityä¸­çš„å¼•ç”¨ç±»å‹" aria-hidden="true">#</a></h2><p><strong>å¼•ç”¨ç±»å‹(Reference Type)</strong>ï¼šåŒ…æ‹¬æ•°ç»„ï¼ˆ<code>array</code>ï¼‰ï¼Œç»“æ„ä½“ï¼ˆ<code>struct</code>ï¼‰å’Œæ˜ å°„ï¼ˆ<code>mapping</code>ï¼‰ï¼Œè¿™ç±»å˜é‡å ç©ºé—´å¤§ï¼Œèµ‹å€¼æ—¶å€™ç›´æ¥ä¼ é€’åœ°å€ï¼ˆç±»ä¼¼æŒ‡é’ˆï¼‰ã€‚ç”±äºè¿™ç±»å˜é‡æ¯”è¾ƒå¤æ‚ï¼Œå ç”¨å­˜å‚¨ç©ºé—´å¤§ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨æ—¶å¿…é¡»è¦å£°æ˜æ•°æ®å­˜å‚¨çš„ä½ç½®ã€‚</p><h3 id="æ•°æ®ä½ç½®" tabindex="-1">æ•°æ®ä½ç½® <a class="header-anchor" href="#æ•°æ®ä½ç½®" aria-hidden="true">#</a></h3><p>solidityæ•°æ®å­˜å‚¨ä½ç½®æœ‰ä¸‰ç±»ï¼š<code>storage</code>ï¼Œ<code>memory</code>å’Œ<code>calldata</code>ã€‚ä¸åŒå­˜å‚¨ä½ç½®çš„<code>gas</code>æˆæœ¬ä¸åŒã€‚<code>storage</code>ç±»å‹çš„æ•°æ®å­˜åœ¨é“¾ä¸Šï¼Œç±»ä¼¼è®¡ç®—æœºçš„ç¡¬ç›˜ï¼Œæ¶ˆè€—<code>gas</code>å¤šï¼›<code>memory</code>å’Œ<code>calldata</code>ç±»å‹çš„ä¸´æ—¶å­˜åœ¨å†…å­˜é‡Œï¼Œæ¶ˆè€—<code>gas</code>å°‘ã€‚å¤§è‡´ç”¨æ³•ï¼š</p><ol><li><code>storage</code>ï¼šåˆçº¦é‡Œçš„çŠ¶æ€å˜é‡é»˜è®¤éƒ½æ˜¯<code>storage</code>ï¼Œå­˜å‚¨åœ¨é“¾ä¸Šã€‚</li><li><code>memory</code>ï¼šå‡½æ•°é‡Œçš„å‚æ•°å’Œä¸´æ—¶å˜é‡ä¸€èˆ¬ç”¨<code>memory</code>ï¼Œå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œä¸ä¸Šé“¾ã€‚</li><li><code>calldata</code>ï¼šå’Œ<code>memory</code>ç±»ä¼¼ï¼Œå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œä¸ä¸Šé“¾ã€‚ä¸<code>memory</code>çš„ä¸åŒç‚¹åœ¨äº<code>calldata</code>å˜é‡ä¸èƒ½ä¿®æ”¹ï¼ˆ<code>immutable</code>ï¼‰ï¼Œä¸€èˆ¬ç”¨äºå‡½æ•°çš„å‚æ•°ã€‚ä¾‹å­ï¼š</li></ol><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fCalldata</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">[] </span><span style="color:#F97583;">calldata</span><span style="color:#E1E4E8;"> _x) </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">pure</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">returns</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">[] </span><span style="color:#F97583;">calldata</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//å‚æ•°ä¸ºcalldataæ•°ç»„ï¼Œä¸èƒ½è¢«ä¿®æ”¹</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// _x[0] = 0 //è¿™æ ·ä¿®æ”¹ä¼šæŠ¥é”™</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;">(_x);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>Example:</strong> <img src="https://www.wtf.academy/assets/images/5-1-9d00a21842c77b3911aaf419f67ad691.png" alt="5-1.png"></p><h3 id="æ•°æ®ä½ç½®å’Œèµ‹å€¼è§„åˆ™" tabindex="-1">æ•°æ®ä½ç½®å’Œèµ‹å€¼è§„åˆ™ <a class="header-anchor" href="#æ•°æ®ä½ç½®å’Œèµ‹å€¼è§„åˆ™" aria-hidden="true">#</a></h3><p>åœ¨ä¸åŒå­˜å‚¨ç±»å‹ç›¸äº’èµ‹å€¼æ—¶å€™ï¼Œæœ‰æ—¶ä¼šäº§ç”Ÿç‹¬ç«‹çš„å‰¯æœ¬ï¼ˆä¿®æ”¹æ–°å˜é‡ä¸ä¼šå½±å“åŸå˜é‡ï¼‰ï¼Œæœ‰æ—¶ä¼šäº§ç”Ÿå¼•ç”¨ï¼ˆä¿®æ”¹æ–°å˜é‡ä¼šå½±å“åŸå˜é‡ï¼‰ã€‚è§„åˆ™å¦‚ä¸‹ï¼š</p><ol><li><code>storage</code>ï¼ˆåˆçº¦çš„çŠ¶æ€å˜é‡ï¼‰èµ‹å€¼ç»™æœ¬åœ°<code>storage</code>ï¼ˆå‡½æ•°é‡Œçš„ï¼‰æ—¶å€™ï¼Œä¼šåˆ›å»ºå¼•ç”¨ï¼Œæ”¹å˜æ–°å˜é‡ä¼šå½±å“åŸå˜é‡ã€‚ä¾‹å­ï¼š</li></ol><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">[] x </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> [</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">]; </span><span style="color:#6A737D;">// çŠ¶æ€å˜é‡ï¼šæ•°ç»„ x</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fStorage</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//å£°æ˜ä¸€ä¸ªstorageçš„å˜é‡ xStorageï¼ŒæŒ‡å‘xã€‚ä¿®æ”¹xStorageä¹Ÿä¼šå½±å“x</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">[] </span><span style="color:#F97583;">storage</span><span style="color:#E1E4E8;"> xStorage </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> x;</span></span>
<span class="line"><span style="color:#E1E4E8;">        xStorage[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>Example:</strong> <img src="https://www.wtf.academy/assets/images/5-2-91bae5b0b86b0e55210cac541a6edee5.png" alt="5-2.png"></p><ol><li><code>storage</code>èµ‹å€¼ç»™<code>memory</code>ï¼Œä¼šåˆ›å»ºç‹¬ç«‹çš„å¤æœ¬ï¼Œä¿®æ”¹å…¶ä¸­ä¸€ä¸ªä¸ä¼šå½±å“å¦ä¸€ä¸ªï¼›åä¹‹äº¦ç„¶ã€‚ä¾‹å­ï¼š</li></ol><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">[] x </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> [</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">]; </span><span style="color:#6A737D;">// çŠ¶æ€å˜é‡ï¼šæ•°ç»„ x</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fMemory</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">view</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//å£°æ˜ä¸€ä¸ªMemoryçš„å˜é‡xMemoryï¼Œå¤åˆ¶xã€‚ä¿®æ”¹xMemoryä¸ä¼šå½±å“x</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">[] </span><span style="color:#F97583;">memory</span><span style="color:#E1E4E8;"> xMemory </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> x;</span></span>
<span class="line"><span style="color:#E1E4E8;">        xMemory[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        xMemory[</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">200</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">[] </span><span style="color:#F97583;">memory</span><span style="color:#E1E4E8;"> xMemory2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> x;</span></span>
<span class="line"><span style="color:#E1E4E8;">        xMemory2[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">300</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>Example:</strong> <img src="https://www.wtf.academy/assets/images/5-3-979f3cbffbbe20ff5df5c143384610e4.png" alt="5-3.png"></p><ol><li><code>memory</code>èµ‹å€¼ç»™<code>memory</code>ï¼Œä¼šåˆ›å»ºå¼•ç”¨ï¼Œæ”¹å˜æ–°å˜é‡ä¼šå½±å“åŸå˜é‡ã€‚</li><li>å…¶ä»–æƒ…å†µï¼Œå˜é‡èµ‹å€¼ç»™<code>storage</code>ï¼Œä¼šåˆ›å»ºç‹¬ç«‹çš„å¤æœ¬ï¼Œä¿®æ”¹å…¶ä¸­ä¸€ä¸ªä¸ä¼šå½±å“å¦ä¸€ä¸ªã€‚</li></ol><h3 id="å˜é‡çš„ä½œç”¨åŸŸ" tabindex="-1">å˜é‡çš„ä½œç”¨åŸŸ <a class="header-anchor" href="#å˜é‡çš„ä½œç”¨åŸŸ" aria-hidden="true">#</a></h3><p><code>Solidity</code>ä¸­å˜é‡æŒ‰ä½œç”¨åŸŸåˆ’åˆ†æœ‰ä¸‰ç§ï¼Œåˆ†åˆ«æ˜¯çŠ¶æ€å˜é‡ï¼ˆstate variableï¼‰ï¼Œå±€éƒ¨å˜é‡ï¼ˆlocal variableï¼‰å’Œå…¨å±€å˜é‡(global variable)</p><h4 id="_1-çŠ¶æ€å˜é‡" tabindex="-1">1. çŠ¶æ€å˜é‡ <a class="header-anchor" href="#_1-çŠ¶æ€å˜é‡" aria-hidden="true">#</a></h4><p>çŠ¶æ€å˜é‡æ˜¯æ•°æ®å­˜å‚¨åœ¨é“¾ä¸Šçš„å˜é‡ï¼Œæ‰€æœ‰åˆçº¦å†…å‡½æ•°éƒ½å¯ä»¥è®¿é—® ï¼Œ<code>gas</code>æ¶ˆè€—é«˜ã€‚çŠ¶æ€å˜é‡åœ¨åˆçº¦å†…ã€å‡½æ•°å¤–å£°æ˜ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#F97583;">contract</span><span style="color:#B392F0;"> Variables</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> x </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> y;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> z;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>æˆ‘ä»¬å¯ä»¥åœ¨å‡½æ•°é‡Œæ›´æ”¹çŠ¶æ€å˜é‡çš„å€¼ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">foo</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">external</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// å¯ä»¥åœ¨å‡½æ•°é‡Œæ›´æ”¹çŠ¶æ€å˜é‡çš„å€¼</span></span>
<span class="line"><span style="color:#E1E4E8;">        x </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        y </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        z </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;0xAA&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_2-å±€éƒ¨å˜é‡" tabindex="-1">2. å±€éƒ¨å˜é‡ <a class="header-anchor" href="#_2-å±€éƒ¨å˜é‡" aria-hidden="true">#</a></h4><p>å±€éƒ¨å˜é‡æ˜¯ä»…åœ¨å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­æœ‰æ•ˆçš„å˜é‡ï¼Œå‡½æ•°é€€å‡ºåï¼Œå˜é‡æ— æ•ˆã€‚å±€éƒ¨å˜é‡çš„æ•°æ®å­˜å‚¨åœ¨å†…å­˜é‡Œï¼Œä¸ä¸Šé“¾ï¼Œ<code>gas</code>ä½ã€‚å±€éƒ¨å˜é‡åœ¨å‡½æ•°å†…å£°æ˜ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bar</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">external</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">pure</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">returns</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> xx </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> yy </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> zz </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> xx </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> yy;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;">(zz);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_3-å…¨å±€å˜é‡" tabindex="-1">3. å…¨å±€å˜é‡ <a class="header-anchor" href="#_3-å…¨å±€å˜é‡" aria-hidden="true">#</a></h4><p>å…¨å±€å˜é‡æ˜¯å…¨å±€èŒƒå›´å·¥ä½œçš„å˜é‡ï¼Œéƒ½æ˜¯<code>solidity</code>é¢„ç•™å…³é”®å­—ã€‚ä»–ä»¬å¯ä»¥åœ¨å‡½æ•°å†…ä¸å£°æ˜ç›´æ¥ä½¿ç”¨ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">global</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">external</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">view</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">returns</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">address</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">bytes</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">memory</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">address</span><span style="color:#E1E4E8;"> sender </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">msg.sender</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> blockNum </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">block</span><span style="color:#E1E4E8;">.number;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">bytes</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">memory</span><span style="color:#E1E4E8;"> data </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">msg</span><span style="color:#E1E4E8;">.data;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;">(sender, blockNum, data);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>åœ¨ä¸Šé¢ä¾‹å­é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨äº†3ä¸ªå¸¸ç”¨çš„å…¨å±€å˜é‡ï¼š<code>msg.sender</code>, <code>block.number</code>å’Œ<code>msg.data</code>ï¼Œä»–ä»¬åˆ†åˆ«ä»£è¡¨è¯·æ±‚å‘èµ·åœ°å€ï¼Œå½“å‰åŒºå—é«˜åº¦ï¼Œå’Œè¯·æ±‚æ•°æ®ã€‚ä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨çš„å…¨å±€å˜é‡ï¼Œæ›´å®Œæ•´çš„åˆ—è¡¨è¯·çœ‹è¿™ä¸ª<a href="https://learnblockchain.cn/docs/solidity/units-and-global-variables.html#special-variables-and-functions" target="_blank" rel="noreferrer">é“¾æ¥</a>ï¼š</p><ul><li><code>blockhash(uint blockNumber)</code>: (<code>bytes32</code>)ç»™å®šåŒºå—çš„å“ˆå¸Œå€¼ â€“ åªé€‚ç”¨äº256æœ€è¿‘åŒºå—, ä¸åŒ…å«å½“å‰åŒºå—ã€‚</li><li><code>block.coinbase</code>: (<code>address payable</code>) å½“å‰åŒºå—çŸ¿å·¥çš„åœ°å€</li><li><code>block.gaslimit</code>: (<code>uint</code>) å½“å‰åŒºå—çš„gaslimit</li><li><code>block.number</code>: (<code>uint</code>) å½“å‰åŒºå—çš„number</li><li><code>block.timestamp</code>: (<code>uint</code>) å½“å‰åŒºå—çš„æ—¶é—´æˆ³ï¼Œä¸ºunixçºªå…ƒä»¥æ¥çš„ç§’</li><li><code>gasleft()</code>: (<code>uint256</code>) å‰©ä½™ gas</li><li><code>msg.data</code>: (<code>bytes calldata</code>) å®Œæ•´call data</li><li><code>msg.sender</code>: (<code>address payable</code>) æ¶ˆæ¯å‘é€è€… (å½“å‰ caller)</li><li><code>msg.sig</code>: (<code>bytes4</code>) calldataçš„å‰å››ä¸ªå­—èŠ‚ (function identifier)</li><li><code>msg.value</code>: (<code>uint</code>) å½“å‰äº¤æ˜“å‘é€çš„<code>wei</code>å€¼</li></ul><p><strong>Example:</strong> <img src="https://www.wtf.academy/assets/images/5-4-5ee425310e1666a20575f2a8330c55cb.png" alt="5-4.png"></p><h3 id="æ€»ç»“-3" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“-3" aria-hidden="true">#</a></h3><p>åœ¨è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ä»‹ç»äº†<code>solidity</code>ä¸­çš„å¼•ç”¨ç±»å‹ï¼Œæ•°æ®ä½ç½®å’Œå˜é‡çš„ä½œç”¨åŸŸã€‚é‡ç‚¹æ˜¯<code>storage</code>, <code>memory</code>å’Œ<code>calldata</code>ä¸‰ä¸ªå…³é”®å­—çš„ç”¨æ³•ã€‚ä»–ä»¬å‡ºç°çš„åŸå› æ˜¯ä¸ºäº†èŠ‚çœé“¾ä¸Šæœ‰é™çš„å­˜å‚¨ç©ºé—´å’Œé™ä½<code>gas</code>ã€‚ä¸‹ä¸€è®²æˆ‘ä»¬ä¼šä»‹ç»å¼•ç”¨ç±»å‹ä¸­çš„æ•°ç»„ã€‚</p><h2 id="å¼•ç”¨ç±»å‹" tabindex="-1">å¼•ç”¨ç±»å‹ <a class="header-anchor" href="#å¼•ç”¨ç±»å‹" aria-hidden="true">#</a></h2><h3 id="æ•°ç»„-array" tabindex="-1">æ•°ç»„ array[] <a class="header-anchor" href="#æ•°ç»„-array" aria-hidden="true">#</a></h3><p>æ•°ç»„ï¼ˆ<code>Array</code>ï¼‰æ˜¯<code>solidity</code>å¸¸ç”¨çš„ä¸€ç§å˜é‡ç±»å‹ï¼Œç”¨æ¥å­˜å‚¨ä¸€ç»„æ•°æ®ï¼ˆæ•´æ•°ï¼Œå­—èŠ‚ï¼Œåœ°å€ç­‰ç­‰ï¼‰ã€‚æ•°ç»„åˆ†ä¸ºå›ºå®šé•¿åº¦æ•°ç»„å’Œå¯å˜é•¿åº¦æ•°ç»„ä¸¤ç§ï¼š</p><ul><li>å›ºå®šé•¿åº¦æ•°ç»„ï¼šåœ¨å£°æ˜æ—¶æŒ‡å®šæ•°ç»„çš„é•¿åº¦ã€‚ç”¨<code>T[k]</code>çš„æ ¼å¼å£°æ˜ï¼Œå…¶ä¸­<code>T</code>æ˜¯å…ƒç´ çš„ç±»å‹ï¼Œ<code>k</code>æ˜¯é•¿åº¦ï¼Œä¾‹å¦‚ï¼š</li></ul><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// å›ºå®šé•¿åº¦ Array</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">[</span><span style="color:#79B8FF;">8</span><span style="color:#E1E4E8;">] array1;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">bytes1</span><span style="color:#E1E4E8;">[</span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">] array2;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">address</span><span style="color:#E1E4E8;">[</span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">] array3;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>å¯å˜é•¿åº¦æ•°ç»„ï¼ˆåŠ¨æ€æ•°ç»„ï¼‰ï¼šåœ¨å£°æ˜æ—¶ä¸æŒ‡å®šæ•°ç»„çš„é•¿åº¦ã€‚ç”¨<code>T[]</code>çš„æ ¼å¼å£°æ˜ï¼Œå…¶ä¸­<code>T</code>æ˜¯å…ƒç´ çš„ç±»å‹ï¼Œä¾‹å¦‚ï¼ˆ<code>bytes</code>æ¯”è¾ƒç‰¹æ®Šï¼Œæ˜¯æ•°ç»„ï¼Œä½†æ˜¯ä¸ç”¨åŠ <code>[]</code>ï¼‰ï¼š</li></ul><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// å¯å˜é•¿åº¦ Array</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">[] array4;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">bytes1</span><span style="color:#E1E4E8;">[] array5;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">address</span><span style="color:#E1E4E8;">[] array6;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">bytes</span><span style="color:#E1E4E8;"> array7;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="åˆ›å»ºæ•°ç»„çš„è§„åˆ™" tabindex="-1">åˆ›å»ºæ•°ç»„çš„è§„åˆ™ <a class="header-anchor" href="#åˆ›å»ºæ•°ç»„çš„è§„åˆ™" aria-hidden="true">#</a></h4><p>åœ¨solidityé‡Œï¼Œåˆ›å»ºæ•°ç»„æœ‰ä¸€äº›è§„åˆ™ï¼š</p><ul><li>å¯¹äº<code>memory</code>ä¿®é¥°çš„<code>åŠ¨æ€æ•°ç»„</code>ï¼Œå¯ä»¥ç”¨<code>new</code>æ“ä½œç¬¦æ¥åˆ›å»ºï¼Œä½†æ˜¯å¿…é¡»å£°æ˜é•¿åº¦ï¼Œå¹¶ä¸”å£°æ˜åé•¿åº¦ä¸èƒ½æ”¹å˜ã€‚ä¾‹å­ï¼š</li></ul><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// memoryåŠ¨æ€æ•°ç»„</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">[] </span><span style="color:#F97583;">memory</span><span style="color:#E1E4E8;"> array8 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">[](</span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">bytes</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">memory</span><span style="color:#E1E4E8;"> array9 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">bytes</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">9</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>æ•°ç»„å­—é¢å¸¸æ•°(Array Literals)æ˜¯å†™ä½œè¡¨è¾¾å¼å½¢å¼çš„æ•°ç»„ï¼Œç”¨æ–¹æ‹¬å·åŒ…ç€æ¥åˆå§‹åŒ–arrayçš„ä¸€ç§æ–¹å¼ï¼Œå¹¶ä¸”é‡Œé¢æ¯ä¸€ä¸ªå…ƒç´ çš„typeæ˜¯ä»¥ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºå‡†çš„ï¼Œä¾‹å¦‚<code>[1,2,3]</code>é‡Œé¢æ‰€æœ‰çš„å…ƒç´ éƒ½æ˜¯uint8ç±»å‹ï¼Œå› ä¸ºåœ¨solidityä¸­å¦‚æœä¸€ä¸ªå€¼æ²¡æœ‰æŒ‡å®štypeçš„è¯ï¼Œé»˜è®¤å°±æ˜¯æœ€å°å•ä½çš„è¯¥typeï¼Œè¿™é‡Œintçš„é»˜è®¤æœ€å°å•ä½ç±»å‹å°±æ˜¯uint8ã€‚è€Œ<code>[uint(1),2,3]</code>é‡Œé¢çš„å…ƒç´ éƒ½æ˜¯uintç±»å‹ï¼Œå› ä¸ºç¬¬ä¸€ä¸ªå…ƒç´ æŒ‡å®šäº†æ˜¯uintç±»å‹äº†ï¼Œæˆ‘ä»¬éƒ½ä»¥ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºå‡†ã€‚ä¸‹é¢çš„åˆçº¦ä¸­ï¼Œå¯¹äºfå‡½æ•°é‡Œé¢çš„è°ƒç”¨ï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰æ˜¾å¼å¯¹ç¬¬ä¸€ä¸ªå…ƒç´ è¿›è¡Œuintå¼ºè½¬çš„è¯ï¼Œæ˜¯ä¼šæŠ¥é”™çš„ï¼Œå› ä¸ºå¦‚ä¸Šæ‰€è¿°æˆ‘ä»¬å…¶å®æ˜¯ä¼ å…¥äº†uint8ç±»å‹çš„arrayï¼Œå¯æ˜¯gå‡½æ•°éœ€è¦çš„å´æ˜¯uintç±»å‹çš„arrayï¼Œå°±ä¼šæŠ¥é”™äº†ã€‚</li></ul><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// SPDX-License-Identifier: GPL-3.0</span></span>
<span class="line"><span style="color:#F97583;">pragma</span><span style="color:#E1E4E8;"> </span><span style="color:#85E89D;">solidity</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">&gt;=0.4.16</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#79B8FF;">0.9</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">contract</span><span style="color:#B392F0;"> C</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">f</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">pure</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">g</span><span style="color:#E1E4E8;">([</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">), </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">]);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">g</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">[</span><span style="color:#FFAB70;">3</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">memory</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">pure</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>å¦‚æœåˆ›å»ºçš„æ˜¯åŠ¨æ€æ•°ç»„ï¼Œä½ éœ€è¦ä¸€ä¸ªä¸€ä¸ªå…ƒç´ çš„èµ‹å€¼ã€‚</li></ul><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">[] </span><span style="color:#F97583;">memory</span><span style="color:#E1E4E8;"> x </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">[](</span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    x[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    x[</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    x[</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="æ•°ç»„æˆå‘˜" tabindex="-1">æ•°ç»„æˆå‘˜ <a class="header-anchor" href="#æ•°ç»„æˆå‘˜" aria-hidden="true">#</a></h4><ul><li><code>length</code>: æ•°ç»„æœ‰ä¸€ä¸ªåŒ…å«å…ƒç´ æ•°é‡çš„<code>length</code>æˆå‘˜ï¼Œ<code>memory</code>æ•°ç»„çš„é•¿åº¦åœ¨åˆ›å»ºåæ˜¯å›ºå®šçš„ã€‚</li><li><code>push()</code>: <code>åŠ¨æ€æ•°ç»„</code>å’Œ<code>bytes</code>æ‹¥æœ‰<code>push()</code>æˆå‘˜ï¼Œå¯ä»¥åœ¨æ•°ç»„æœ€åæ·»åŠ ä¸€ä¸ª<code>0</code>å…ƒç´ ã€‚</li><li><code>push(x)</code>: <code>åŠ¨æ€æ•°ç»„</code>å’Œ<code>bytes</code>æ‹¥æœ‰<code>push(x)</code>æˆå‘˜ï¼Œå¯ä»¥åœ¨æ•°ç»„æœ€åæ·»åŠ ä¸€ä¸ª<code>x</code>å…ƒç´ ã€‚</li><li><code>pop()</code>: <code>åŠ¨æ€æ•°ç»„</code>å’Œ<code>bytes</code>æ‹¥æœ‰<code>pop()</code>æˆå‘˜ï¼Œå¯ä»¥ç§»é™¤æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ ã€‚</li></ul><p><strong>Example:</strong> <img src="https://www.wtf.academy/assets/images/6-1-ff58f00a7e037fcd318401ca2bc350b6.png" alt="6-1.png"></p><h3 id="ç»“æ„ä½“-struct" tabindex="-1">ç»“æ„ä½“ struct <a class="header-anchor" href="#ç»“æ„ä½“-struct" aria-hidden="true">#</a></h3><p><code>Solidity</code>æ”¯æŒé€šè¿‡æ„é€ ç»“æ„ä½“çš„å½¢å¼å®šä¹‰æ–°çš„ç±»å‹ã€‚åˆ›å»ºç»“æ„ä½“çš„æ–¹æ³•ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// ç»“æ„ä½“</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">struct</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Student</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> id;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> score; </span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    Student student; </span><span style="color:#6A737D;">// åˆå§‹ä¸€ä¸ªstudentç»“æ„ä½“</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>ç»™ç»“æ„ä½“èµ‹å€¼çš„ä¸¤ç§æ–¹æ³•ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//  ç»™ç»“æ„ä½“èµ‹å€¼</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// æ–¹æ³•1:åœ¨å‡½æ•°ä¸­åˆ›å»ºä¸€ä¸ªstorageçš„structå¼•ç”¨</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">initStudent1</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">external</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        Student </span><span style="color:#F97583;">storage</span><span style="color:#E1E4E8;"> _student </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> student; </span><span style="color:#6A737D;">// assign a copy of student</span></span>
<span class="line"><span style="color:#E1E4E8;">        _student.id </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">11</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        _student.score </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>Example:</strong> <img src="https://www.wtf.academy/assets/images/6-2-991e08767256fcc39717f429da21f05d.png" alt="6-2.png"></p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">     </span><span style="color:#6A737D;">// æ–¹æ³•2:ç›´æ¥å¼•ç”¨çŠ¶æ€å˜é‡çš„struct</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">initStudent2</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">external</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        student.id </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        student.score </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">80</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>Example:</strong> <img src="https://www.wtf.academy/assets/images/6-3-7ccb3cbebd7eff492292a171a8de1852.png" alt="6-3.png"></p><h3 id="æ€»ç»“-4" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“-4" aria-hidden="true">#</a></h3><p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ä»‹ç»äº†solidityä¸­æ•°ç»„ï¼ˆ<code>array</code>ï¼‰å’Œç»“æ„ä½“ï¼ˆ<code>struct</code>ï¼‰çš„åŸºæœ¬ç”¨æ³•ã€‚ä¸‹ä¸€è®²æˆ‘ä»¬å°†ä»‹ç»solidityä¸­çš„å“ˆå¸Œè¡¨â€”â€”æ˜ å°„ï¼ˆ<code>mapping</code>ï¼‰ã€‚</p><h2 id="æ˜ å°„ç±»å‹" tabindex="-1">æ˜ å°„ç±»å‹ <a class="header-anchor" href="#æ˜ å°„ç±»å‹" aria-hidden="true">#</a></h2><p>æˆ‘ä»¬å°†ä»‹ç»solidityä¸­çš„å“ˆå¸Œè¡¨ï¼šæ˜ å°„ï¼ˆ<code>Mapping</code>ï¼‰ç±»å‹ã€‚</p><h3 id="æ˜ å°„mapping" tabindex="-1">æ˜ å°„Mapping <a class="header-anchor" href="#æ˜ å°„mapping" aria-hidden="true">#</a></h3><p>åœ¨æ˜ å°„ä¸­ï¼Œäººä»¬å¯ä»¥é€šè¿‡é”®ï¼ˆ<code>Key</code>ï¼‰æ¥æŸ¥è¯¢å¯¹åº”çš„å€¼ï¼ˆ<code>Value</code>ï¼‰ï¼Œæ¯”å¦‚ï¼šé€šè¿‡ä¸€ä¸ªäººçš„<code>id</code>æ¥æŸ¥è¯¢ä»–çš„é’±åŒ…åœ°å€ã€‚</p><p>å£°æ˜æ˜ å°„çš„æ ¼å¼ä¸º<code>mapping(_KeyType =&gt; _ValueType)</code>ï¼Œå…¶ä¸­<code>_KeyType</code>å’Œ<code>_ValueType</code>åˆ†åˆ«æ˜¯<code>Key</code>å’Œ<code>Value</code>çš„å˜é‡ç±»å‹ã€‚ä¾‹å­ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">mapping</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">address</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> idToAddress; </span><span style="color:#6A737D;">// idæ˜ å°„åˆ°åœ°å€</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">mapping</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">address</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">address</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> swapPair; </span><span style="color:#6A737D;">// å¸å¯¹çš„æ˜ å°„ï¼Œåœ°å€åˆ°åœ°å€</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="æ˜ å°„çš„è§„åˆ™" tabindex="-1">æ˜ å°„çš„è§„åˆ™ <a class="header-anchor" href="#æ˜ å°„çš„è§„åˆ™" aria-hidden="true">#</a></h3><ul><li><strong>è§„åˆ™1</strong>ï¼šæ˜ å°„çš„<code>_KeyType</code>åªèƒ½é€‰æ‹©<code>solidity</code>é»˜è®¤çš„ç±»å‹ï¼Œæ¯”å¦‚<code>uint</code>ï¼Œ<code>address</code>ç­‰ï¼Œä¸èƒ½ç”¨è‡ªå®šä¹‰çš„ç»“æ„ä½“ã€‚è€Œ<code>_ValueType</code>å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„ç±»å‹ã€‚ä¸‹é¢è¿™ä¸ªä¾‹å­ä¼šæŠ¥é”™ï¼Œå› ä¸º<code>_KeyType</code>ä½¿ç”¨äº†æˆ‘ä»¬è‡ªå®šä¹‰çš„ç»“æ„ä½“ï¼š</li></ul><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç»“æ„ä½“ Struct</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">struct</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Student</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> id;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> score; </span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">     </span><span style="color:#F97583;">mapping</span><span style="color:#E1E4E8;">(Student </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> testVar;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li><strong>è§„åˆ™2</strong>ï¼šæ˜ å°„çš„å­˜å‚¨ä½ç½®å¿…é¡»æ˜¯<code>storage</code>ï¼Œå› æ­¤å¯ä»¥ç”¨äºåˆçº¦çš„çŠ¶æ€å˜é‡ï¼Œå‡½æ•°ä¸­çš„<code>storage</code>å˜é‡ï¼Œå’Œlibraryå‡½æ•°çš„å‚æ•°ï¼ˆè§<a href="https://github.com/ethereum/solidity/issues/4635" target="_blank" rel="noreferrer">ä¾‹å­</a>ï¼‰ã€‚ä¸èƒ½ç”¨äº<code>public</code>å‡½æ•°çš„å‚æ•°æˆ–è¿”å›ç»“æœä¸­ï¼Œå› ä¸º<code>mapping</code>è®°å½•çš„æ˜¯ä¸€ç§å…³ç³» (key - value pair)ã€‚</li><li><strong>è§„åˆ™3</strong>ï¼šå¦‚æœæ˜ å°„å£°æ˜ä¸º<code>public</code>ï¼Œé‚£ä¹ˆ<code>solidity</code>ä¼šè‡ªåŠ¨ç»™ä½ åˆ›å»ºä¸€ä¸ª<code>getter</code>å‡½æ•°ï¼Œå¯ä»¥é€šè¿‡<code>Key</code>æ¥æŸ¥è¯¢å¯¹åº”çš„<code>Value</code>ã€‚</li><li><strong>è§„åˆ™4</strong>ï¼šç»™æ˜ å°„æ–°å¢çš„é”®å€¼å¯¹çš„è¯­æ³•ä¸º<code>_Var[_Key] = _Value</code>ï¼Œå…¶ä¸­<code>_Var</code>æ˜¯æ˜ å°„å˜é‡åï¼Œ<code>_Key</code>å’Œ<code>_Value</code>å¯¹åº”æ–°å¢çš„é”®å€¼å¯¹ã€‚ä¾‹å­ï¼š</li></ul><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">writeMap</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> _Key, </span><span style="color:#79B8FF;">address</span><span style="color:#E1E4E8;"> _Value) </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        idToAddress[_Key] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> _Value;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="æ˜ å°„çš„åŸç†" tabindex="-1">æ˜ å°„çš„åŸç† <a class="header-anchor" href="#æ˜ å°„çš„åŸç†" aria-hidden="true">#</a></h3><ul><li><strong>åŸç†1</strong>: æ˜ å°„ä¸å‚¨å­˜ä»»ä½•é”®ï¼ˆ<code>Key</code>ï¼‰çš„èµ„è®¯ï¼Œä¹Ÿæ²¡æœ‰lengthçš„èµ„è®¯ã€‚</li><li><strong>åŸç†2</strong>: æ˜ å°„ä½¿ç”¨<code>keccak256(key)</code>å½“æˆoffsetå­˜å–valueã€‚</li><li><strong>åŸç†3</strong>: å› ä¸ºEthereumä¼šå®šä¹‰æ‰€æœ‰æœªä½¿ç”¨çš„ç©ºé—´ä¸º0ï¼Œæ‰€ä»¥æœªèµ‹å€¼ï¼ˆ<code>Value</code>ï¼‰çš„é”®ï¼ˆ<code>Key</code>ï¼‰åˆå§‹å€¼éƒ½æ˜¯0ã€‚</li></ul><h3 id="åœ¨remixä¸ŠéªŒè¯-ä»¥-mapping-solä¸ºä¾‹" tabindex="-1">åœ¨Remixä¸ŠéªŒè¯ (ä»¥ <code>Mapping.sol</code>ä¸ºä¾‹) <a class="header-anchor" href="#åœ¨remixä¸ŠéªŒè¯-ä»¥-mapping-solä¸ºä¾‹" aria-hidden="true">#</a></h3><ul><li><p>æ˜ å°„ç¤ºä¾‹ 1 éƒ¨ç½²</p><p><img src="https://www.wtf.academy/assets/images/7-1-2768f65eec9dbbc8771275b45c937e96.jpg" alt="7-1"></p></li><li><p>æ˜ å°„ç¤ºä¾‹ 2 åˆå§‹å€¼</p><p><img src="https://www.wtf.academy/assets/images/7-2-886db6cf3743df280acac78c151971f3.jpg" alt="7-2"></p></li><li><p>æ˜ å°„ç¤ºä¾‹ 3 key-value pair</p><p><img src="https://www.wtf.academy/assets/images/7-3-88745249067310f5e280dd60b2560adb.jpg" alt="7-3"></p></li></ul><h3 id="æ€»ç»“-5" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“-5" aria-hidden="true">#</a></h3><p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ä»‹ç»äº†<code>solidity</code>ä¸­å“ˆå¸Œè¡¨â€”â€”æ˜ å°„ï¼ˆ<code>Mapping</code>ï¼‰çš„ç”¨æ³•ã€‚è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å­¦ä¹ äº†æ‰€æœ‰å¸¸ç”¨å˜é‡ç§ç±»ï¼Œä¹‹åæˆ‘ä»¬ä¼šå­¦ä¹ æ§åˆ¶æµ<code>if-else</code>,<code> while</code>ç­‰ã€‚</p><h2 id="å˜é‡åˆå§‹å€¼" tabindex="-1">å˜é‡åˆå§‹å€¼ <a class="header-anchor" href="#å˜é‡åˆå§‹å€¼" aria-hidden="true">#</a></h2><p>åœ¨<code>solidity</code>ä¸­ï¼Œå£°æ˜ä½†æ²¡èµ‹å€¼çš„å˜é‡éƒ½æœ‰å®ƒçš„åˆå§‹å€¼æˆ–é»˜è®¤å€¼ã€‚è¿™ä¸€è®²ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¸¸ç”¨å˜é‡çš„åˆå§‹å€¼ã€‚</p><h3 id="å€¼ç±»å‹åˆå§‹å€¼" tabindex="-1">å€¼ç±»å‹åˆå§‹å€¼ <a class="header-anchor" href="#å€¼ç±»å‹åˆå§‹å€¼" aria-hidden="true">#</a></h3><ul><li><p><code>boolean</code>: <code>false</code></p></li><li><p><code>string</code>: <code>&quot;&quot;</code></p></li><li><p><code>int</code>: <code>0</code></p></li><li><p><code>uint</code>: <code>0</code></p></li><li><p><code>enum</code>: æšä¸¾ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ </p></li><li><p><code>address</code>: <code>0x0000000000000000000000000000000000000000</code> (æˆ– <code>address(0)</code>)</p></li><li><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#e1e4e8;">function</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><code>internal</code>: ç©ºç™½æ–¹ç¨‹</li><li><code>external</code>: ç©ºç™½æ–¹ç¨‹</li></ul></li></ul><p>å¯ä»¥ç”¨<code>public</code>å˜é‡çš„<code>getter</code>å‡½æ•°éªŒè¯ä¸Šé¢å†™çš„åˆå§‹å€¼æ˜¯å¦æ­£ç¡®ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">bool</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _bool; </span><span style="color:#6A737D;">// false</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _string; </span><span style="color:#6A737D;">// &quot;&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _int; </span><span style="color:#6A737D;">// 0</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _uint; </span><span style="color:#6A737D;">// 0</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">address</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _address; </span><span style="color:#6A737D;">// 0x0000000000000000000000000000000000000000</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">enum</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ActionSet</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">Buy</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">Hold</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">Sell</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">    ActionSet </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _enum; </span><span style="color:#6A737D;">// ç¬¬ä¸€ä¸ªå…ƒç´  0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fi</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">internal</span><span style="color:#E1E4E8;">{} </span><span style="color:#6A737D;">// internalç©ºç™½æ–¹ç¨‹ </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fe</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">external</span><span style="color:#E1E4E8;">{} </span><span style="color:#6A737D;">// externalç©ºç™½æ–¹ç¨‹ </span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="å¼•ç”¨ç±»å‹åˆå§‹å€¼" tabindex="-1">å¼•ç”¨ç±»å‹åˆå§‹å€¼ <a class="header-anchor" href="#å¼•ç”¨ç±»å‹åˆå§‹å€¼" aria-hidden="true">#</a></h3><ul><li>æ˜ å°„<code>mapping</code>: æ‰€æœ‰å…ƒç´ éƒ½ä¸ºå…¶é»˜è®¤å€¼çš„<code>mapping</code></li><li>ç»“æ„ä½“<code>struct</code>: æ‰€æœ‰æˆå‘˜è®¾ä¸ºå…¶é»˜è®¤å€¼çš„ç»“æ„ä½“</li><li>æ•°ç»„<code>array</code><ul><li>åŠ¨æ€æ•°ç»„: <code>[]</code></li><li>é™æ€æ•°ç»„ï¼ˆå®šé•¿ï¼‰: æ‰€æœ‰æˆå‘˜è®¾ä¸ºå…¶é»˜è®¤å€¼çš„é™æ€æ•°ç»„</li></ul></li></ul><p>å¯ä»¥ç”¨<code>public</code>å˜é‡çš„<code>getter</code>å‡½æ•°éªŒè¯ä¸Šé¢å†™çš„åˆå§‹å€¼æ˜¯å¦æ­£ç¡®ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// Reference Types</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">[</span><span style="color:#79B8FF;">8</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _staticArray; </span><span style="color:#6A737D;">// æ‰€æœ‰æˆå‘˜è®¾ä¸ºå…¶é»˜è®¤å€¼çš„é™æ€æ•°ç»„[0,0,0,0,0,0,0,0]</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">[] </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _dynamicArray; </span><span style="color:#6A737D;">// \`[]\`</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">mapping</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">address</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _mapping; </span><span style="color:#6A737D;">// æ‰€æœ‰å…ƒç´ éƒ½ä¸ºå…¶é»˜è®¤å€¼çš„mapping</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// æ‰€æœ‰æˆå‘˜è®¾ä¸ºå…¶é»˜è®¤å€¼çš„ç»“æ„ä½“ 0, 0</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">struct</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Student</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> id;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> score; </span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    Student </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> student;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="deleteæ“ä½œç¬¦" tabindex="-1"><code>delete</code>æ“ä½œç¬¦ <a class="header-anchor" href="#deleteæ“ä½œç¬¦" aria-hidden="true">#</a></h3><p><code>delete a</code>ä¼šè®©å˜é‡<code>a</code>çš„å€¼å˜ä¸ºåˆå§‹å€¼ã€‚</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// deleteæ“ä½œç¬¦</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">bool</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> _bool2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">; </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">d</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">external</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">delete</span><span style="color:#E1E4E8;"> _bool2; </span><span style="color:#6A737D;">// delete ä¼šè®©_bool2å˜ä¸ºé»˜è®¤å€¼ï¼Œfalse</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="åœ¨remixä¸ŠéªŒè¯-2" tabindex="-1">åœ¨remixä¸ŠéªŒè¯ <a class="header-anchor" href="#åœ¨remixä¸ŠéªŒè¯-2" aria-hidden="true">#</a></h3><ul><li>éƒ¨ç½²åˆçº¦æŸ¥çœ‹å€¼ç±»å‹ã€å¼•ç”¨ç±»å‹çš„åˆå§‹å€¼ <img src="https://www.wtf.academy/assets/images/8-1-bf8a5eafba9f2a6be29c8a116a5465bc.png" alt="img"></li><li>å€¼ç±»å‹ã€å¼•ç”¨ç±»å‹deleteæ“ä½œåçš„é»˜è®¤å€¼ <img src="https://www.wtf.academy/assets/images/8-2-968b7c57cb793dc524a5665dfae26624.png" alt="img"></li></ul><h3 id="æ€»ç»“-6" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“-6" aria-hidden="true">#</a></h3><p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ä»‹ç»äº†<code>solidity</code>ä¸­å˜é‡çš„åˆå§‹å€¼ã€‚å˜é‡è¢«å£°æ˜ä½†æ²¡æœ‰èµ‹å€¼çš„æ—¶å€™ï¼Œå®ƒçš„å€¼é»˜è®¤ä¸ºåˆå§‹å€¼ã€‚ä¸åŒç±»å‹çš„å˜é‡åˆå§‹å€¼ä¸åŒï¼Œ<code>delete</code>æ“ä½œç¬¦å¯ä»¥åˆ é™¤ä¸€ä¸ªå˜é‡çš„å€¼å¹¶ä»£æ›¿ä¸ºåˆå§‹å€¼ã€‚</p><h2 id="å¸¸æ•°" tabindex="-1">å¸¸æ•° <a class="header-anchor" href="#å¸¸æ•°" aria-hidden="true">#</a></h2><p>æˆ‘ä»¬ä»‹ç»<code>solidity</code>ä¸­ä¸¤ä¸ªå…³é”®å­—ï¼Œ<code>constant</code>ï¼ˆå¸¸é‡ï¼‰å’Œ<code>immutable</code>ï¼ˆä¸å˜é‡ï¼‰ã€‚çŠ¶æ€å˜é‡å£°æ˜è¿™ä¸ªä¸¤ä¸ªå…³é”®å­—ä¹‹åï¼Œä¸èƒ½åœ¨åˆçº¦åæ›´æ”¹æ•°å€¼ï¼›å¹¶ä¸”è¿˜å¯ä»¥èŠ‚çœ<code>gas</code>ã€‚å¦å¤–ï¼Œåªæœ‰æ•°å€¼å˜é‡å¯ä»¥å£°æ˜<code>constant</code>å’Œ<code>immutable</code>ï¼›<code>string</code>å’Œ<code>bytes</code>å¯ä»¥å£°æ˜ä¸º<code>constant</code>ï¼Œä½†ä¸èƒ½ä¸º<code>immutable</code>ã€‚</p><h3 id="constantå’Œimmutable" tabindex="-1">constantå’Œimmutable <a class="header-anchor" href="#constantå’Œimmutable" aria-hidden="true">#</a></h3><h4 id="constant" tabindex="-1">constant <a class="header-anchor" href="#constant" aria-hidden="true">#</a></h4><p><code>constant</code>å˜é‡å¿…é¡»åœ¨å£°æ˜çš„æ—¶å€™åˆå§‹åŒ–ï¼Œä¹‹åå†ä¹Ÿä¸èƒ½æ”¹å˜ã€‚å°è¯•æ”¹å˜çš„è¯ï¼Œç¼–è¯‘ä¸é€šè¿‡ã€‚</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// constantå˜é‡å¿…é¡»åœ¨å£°æ˜çš„æ—¶å€™åˆå§‹åŒ–ï¼Œä¹‹åä¸èƒ½æ”¹å˜</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">constant</span><span style="color:#E1E4E8;"> CONSTANT_NUM </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">constant</span><span style="color:#E1E4E8;"> CONSTANT_STRING </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;0xAA&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">bytes</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">constant</span><span style="color:#E1E4E8;"> CONSTANT_BYTES </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;WTF&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">address</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">constant</span><span style="color:#E1E4E8;"> CONSTANT_ADDRESS </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0x0000000000000000000000000000000000000000</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="immutable" tabindex="-1">immutable <a class="header-anchor" href="#immutable" aria-hidden="true">#</a></h4><p><code>immutable</code>å˜é‡å¯ä»¥åœ¨å£°æ˜æ—¶æˆ–æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–ï¼Œå› æ­¤æ›´åŠ çµæ´»ã€‚</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// immutableå˜é‡å¯ä»¥åœ¨constructoré‡Œåˆå§‹åŒ–ï¼Œä¹‹åä¸èƒ½æ”¹å˜</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">immutable</span><span style="color:#E1E4E8;"> IMMUTABLE_NUM </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">9999999999</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">address</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">immutable</span><span style="color:#E1E4E8;"> IMMUTABLE_ADDRESS;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">immutable</span><span style="color:#E1E4E8;"> IMMUTABLE_BLOCK;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">immutable</span><span style="color:#E1E4E8;"> IMMUTABLE_TEST;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ä½ å¯ä»¥ä½¿ç”¨å…¨å±€å˜é‡ä¾‹å¦‚<code>address(this)</code>ï¼Œ<code>block.number</code> ï¼Œæˆ–è€…è‡ªå®šä¹‰çš„å‡½æ•°ç»™<code>immutable</code>å˜é‡åˆå§‹åŒ–ã€‚åœ¨ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬åˆ©ç”¨äº†<code>test()</code>å‡½æ•°ç»™<code>IMMUTABLE_TEST</code>åˆå§‹åŒ–ä¸º<code>9</code>ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// åˆ©ç”¨constructoråˆå§‹åŒ–immutableå˜é‡ï¼Œå› æ­¤å¯ä»¥åˆ©ç”¨</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">constructor</span><span style="color:#E1E4E8;">(){</span></span>
<span class="line"><span style="color:#E1E4E8;">        IMMUTABLE_ADDRESS </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">address</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">        IMMUTABLE_BLOCK </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">block</span><span style="color:#E1E4E8;">.number;</span></span>
<span class="line"><span style="color:#E1E4E8;">        IMMUTABLE_TEST </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">test</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">test</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">pure</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">returns</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> what </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">9</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;">(what);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="åœ¨remixä¸ŠéªŒè¯-3" tabindex="-1">åœ¨remixä¸ŠéªŒè¯ <a class="header-anchor" href="#åœ¨remixä¸ŠéªŒè¯-3" aria-hidden="true">#</a></h3><ol><li><p>éƒ¨ç½²å¥½åˆçº¦ä¹‹åï¼Œé€šè¿‡remixä¸Šçš„<code>getter</code>å‡½æ•°ï¼Œèƒ½è·å–åˆ°<code>constant</code>å’Œ<code>immutable</code>å˜é‡åˆå§‹åŒ–å¥½çš„å€¼ã€‚</p><p><img src="https://www.wtf.academy/assets/images/9-1-4dd7d40c9799d42c60e4793394a4eb5e.png" alt="9-1.png"></p></li><li><p><code>constant</code>å˜é‡åˆå§‹åŒ–ä¹‹åï¼Œå°è¯•æ”¹å˜å®ƒçš„å€¼ï¼Œä¼šç¼–è¯‘ä¸é€šè¿‡å¹¶æŠ›å‡º<code>TypeError: Cannot assign to a constant variable.</code>çš„é”™è¯¯ã€‚</p></li></ol><p><img src="https://www.wtf.academy/assets/images/9-2-5b85f9969dff8fbeb78cac9f8d4089ce.png" alt="9-2.png"></p><ol><li><p><code>immutable</code>å˜é‡åˆå§‹åŒ–ä¹‹åï¼Œå°è¯•æ”¹å˜å®ƒçš„å€¼ï¼Œä¼šç¼–è¯‘ä¸é€šè¿‡å¹¶æŠ›å‡º<code>TypeError: Immutable state variable already initialized.</code>çš„é”™è¯¯ã€‚</p><p><img src="data:image/png;base64,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" alt="9-3.png"></p></li></ol><h3 id="æ€»ç»“-7" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“-7" aria-hidden="true">#</a></h3><p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ä»‹ç»<code>solidity</code>ä¸­ä¸¤ä¸ªå…³é”®å­—ï¼Œ<code>constant</code>ï¼ˆå¸¸é‡ï¼‰å’Œ<code>immutable</code>ï¼ˆä¸å˜é‡ï¼‰ï¼Œè®©ä¸åº”è¯¥å˜çš„å˜é‡ä¿æŒä¸å˜ã€‚è¿™æ ·çš„åšæ³•èƒ½åœ¨èŠ‚çœ<code>gas</code>çš„åŒæ—¶æå‡åˆçº¦çš„å®‰å…¨æ€§ã€‚</p><h2 id="æ§åˆ¶æµ" tabindex="-1">æ§åˆ¶æµ <a class="header-anchor" href="#æ§åˆ¶æµ" aria-hidden="true">#</a></h2><p><code>Solidity</code>çš„æ§åˆ¶æµä¸å…¶ä»–è¯­è¨€ç±»ä¼¼ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ç§ï¼š</p><ol><li><code>if-else</code></li></ol><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ifElseTest</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> _number) </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">pure</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">returns</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">bool</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(_number </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol><li><code>forå¾ªç¯</code></li></ol><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">forLoopTest</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">pure</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">returns</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> sum </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">; i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">; i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">    sum </span><span style="color:#F97583;">+=</span><span style="color:#E1E4E8;"> i;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;">(sum);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol><li><code>whileå¾ªç¯</code></li></ol><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">whileTest</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">pure</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">returns</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> sum </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">while</span><span style="color:#E1E4E8;">(i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">    sum </span><span style="color:#F97583;">+=</span><span style="color:#E1E4E8;"> i;</span></span>
<span class="line"><span style="color:#E1E4E8;">    i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;">(sum);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol><li><code>do-whileå¾ªç¯</code></li></ol><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">doWhileTest</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">pure</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">returns</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> sum </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">do</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    sum </span><span style="color:#F97583;">+=</span><span style="color:#E1E4E8;"> i;</span></span>
<span class="line"><span style="color:#E1E4E8;">    i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span><span style="color:#F97583;">while</span><span style="color:#E1E4E8;">(i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;">(sum);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol><li><code>ä¸‰å…ƒè¿ç®—ç¬¦</code> ä¸‰å…ƒè¿ç®—ç¬¦æ˜¯<code>solidity</code>ä¸­å”¯ä¸€ä¸€ä¸ªæ¥å—ä¸‰ä¸ªæ“ä½œæ•°çš„è¿ç®—ç¬¦ï¼Œè§„åˆ™<code>æ¡ä»¶? æ¡ä»¶ä¸ºçœŸçš„è¡¨è¾¾å¼:æ¡ä»¶ä¸ºå‡çš„è¡¨è¾¾å¼</code>ã€‚ æ­¤è¿ç®—ç¬¦ç»å¸¸ç”¨ä½œ if è¯­å¥çš„å¿«æ·æ–¹å¼ã€‚</li></ol><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// ä¸‰å…ƒè¿ç®—ç¬¦ ternary/conditional operator</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ternaryTest</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">x</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">y</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">pure</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">returns</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// return the max of x and y</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> x </span><span style="color:#F97583;">&gt;=</span><span style="color:#E1E4E8;"> y </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> x</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> y; </span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>å¦å¤–è¿˜æœ‰<code>continue</code>ï¼ˆç«‹å³è¿›å…¥ä¸‹ä¸€ä¸ªå¾ªç¯ï¼‰å’Œ<code>break</code>ï¼ˆè·³å‡ºå½“å‰å¾ªç¯ï¼‰å…³é”®å­—å¯ä»¥ä½¿ç”¨ã€‚</p><h3 id="ç”¨solidityå®ç°æ’å…¥æ’åº" tabindex="-1">ç”¨<code>solidity</code>å®ç°æ’å…¥æ’åº <a class="header-anchor" href="#ç”¨solidityå®ç°æ’å…¥æ’åº" aria-hidden="true">#</a></h3><h4 id="å†™åœ¨å‰é¢-90-ä»¥ä¸Šçš„äººç”¨solidityå†™æ’å…¥ç®—æ³•éƒ½ä¼šå‡ºé”™ã€‚" tabindex="-1">å†™åœ¨å‰é¢ï¼š90%ä»¥ä¸Šçš„äººç”¨<code>solidity</code>å†™æ’å…¥ç®—æ³•éƒ½ä¼šå‡ºé”™ã€‚ <a class="header-anchor" href="#å†™åœ¨å‰é¢-90-ä»¥ä¸Šçš„äººç”¨solidityå†™æ’å…¥ç®—æ³•éƒ½ä¼šå‡ºé”™ã€‚" aria-hidden="true">#</a></h4><h3 id="æ’å…¥æ’åº" tabindex="-1">æ’å…¥æ’åº <a class="header-anchor" href="#æ’å…¥æ’åº" aria-hidden="true">#</a></h3><p>æ’åºç®—æ³•è§£å†³çš„é—®é¢˜æ˜¯å°†æ— åºçš„ä¸€ç»„æ•°å­—ï¼Œä¾‹å¦‚<code>[2, 5, 3, 1]</code>ï¼Œä»å°åˆ°å¤§ä¾æ¬¡æ’åˆ—å¥½ã€‚æ’å…¥æ’åºï¼ˆ<code>InsertionSort</code>ï¼‰æ˜¯æœ€ç®€å•çš„ä¸€ç§æ’åºç®—æ³•ï¼Œä¹Ÿæ˜¯å¾ˆå¤šäººå­¦ä¹ çš„ç¬¬ä¸€ä¸ªç®—æ³•ã€‚å®ƒçš„æ€è·¯å¾ˆç®€ç­”ï¼Œä»å‰å¾€åï¼Œä¾æ¬¡å°†æ¯ä¸€ä¸ªæ•°å’Œæ’åœ¨ä»–å‰é¢çš„æ•°å­—æ¯”å¤§å°ï¼Œå¦‚æœæ¯”å‰é¢çš„æ•°å­—å°ï¼Œå°±äº’æ¢ä½ç½®ã€‚ç¤ºæ„å›¾ï¼š</p><p><img src="https://i.pinimg.com/originals/92/b0/34/92b034385c440e08bc8551c97df0a2e3.gif" alt="æ’å…¥æ’åº"></p><h3 id="pythonä»£ç " tabindex="-1"><code>python</code>ä»£ç  <a class="header-anchor" href="#pythonä»£ç " aria-hidden="true">#</a></h3><p>æˆ‘ä»¬å¯ä»¥å…ˆçœ‹ä¸€ä¸‹æ’å…¥æ’åºçš„pythonä»£ç ï¼š</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Python program for implementation of Insertion Sort</span></span>
<span class="line"><span style="color:#F97583;">def</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">insertionSort</span><span style="color:#E1E4E8;">(arr):</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">in</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">range</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">len</span><span style="color:#E1E4E8;">(arr)):</span></span>
<span class="line"><span style="color:#E1E4E8;">        key </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> arr[i]</span></span>
<span class="line"><span style="color:#E1E4E8;">        j </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> i</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">while</span><span style="color:#E1E4E8;"> j </span><span style="color:#F97583;">&gt;=</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">and</span><span style="color:#E1E4E8;"> key </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> arr[j] :</span></span>
<span class="line"><span style="color:#E1E4E8;">                arr[j</span><span style="color:#F97583;">+</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> arr[j]</span></span>
<span class="line"><span style="color:#E1E4E8;">                j </span><span style="color:#F97583;">-=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">        arr[j</span><span style="color:#F97583;">+</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> key</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="æ”¹å†™æˆsolidityåæœ‰bug" tabindex="-1">æ”¹å†™æˆ<code>solidity</code>åæœ‰<code>BUG</code>ï¼ <a class="header-anchor" href="#æ”¹å†™æˆsolidityåæœ‰bug" aria-hidden="true">#</a></h3><p>ä¸€å…±8è¡Œ<code>python</code>ä»£ç å°±å¯ä»¥å®Œæˆæ’å…¥æ’åºï¼Œéå¸¸ç®€å•ã€‚é‚£ä¹ˆæˆ‘ä»¬å°†å®ƒæ”¹å†™æˆ<code>solidity</code>ä»£ç ï¼Œå°†å‡½æ•°ï¼Œå˜é‡ï¼Œå¾ªç¯ç­‰ç­‰éƒ½åšäº†ç›¸åº”çš„è½¬æ¢ï¼Œåªéœ€è¦9è¡Œä»£ç ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// æ’å…¥æ’åº é”™è¯¯ç‰ˆ</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">insertionSortWrong</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">[] </span><span style="color:#F97583;">memory</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">a</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">pure</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">returns</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">[] </span><span style="color:#F97583;">memory</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> a.length;i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> temp </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> a[i];</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> j</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">i</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">while</span><span style="color:#E1E4E8;">( (j </span><span style="color:#F97583;">&gt;=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> (temp </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> a[j])){</span></span>
<span class="line"><span style="color:#E1E4E8;">                a[j</span><span style="color:#F97583;">+</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> a[j];</span></span>
<span class="line"><span style="color:#E1E4E8;">                j</span><span style="color:#F97583;">--</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">            a[j</span><span style="color:#F97583;">+</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> temp;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;">(a);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>é‚£æˆ‘ä»¬æŠŠæ”¹å¥½çš„æ”¾åˆ°<code>remix</code>ä¸Šå»è·‘ï¼Œè¾“å…¥<code>[2, 5, 3, 1]</code>ã€‚BOOMï¼æœ‰<code>bug</code>ï¼æ”¹äº†åŠå¤©ï¼Œæ²¡æ‰¾åˆ°<code>bug</code>åœ¨å“ªã€‚æˆ‘åˆå»<code>google</code>æœâ€solidity insertion sortâ€ï¼Œç„¶åå‘ç°ç½‘ä¸Šç”¨<code>solidity</code>å†™çš„æ’å…¥ç®—æ³•æ•™ç¨‹éƒ½æ˜¯é”™çš„ï¼Œæ¯”å¦‚ï¼š<a href="https://medium.com/coinmonks/sorting-in-solidity-without-comparison-4eb47e04ff0d" target="_blank" rel="noreferrer">Sorting in Solidity without Comparison</a></p><p>Remix decoded output å‡ºç°é”™è¯¯å†…å®¹ <img src="https://www.wtf.academy/assets/images/10-1-e9590da7aad6c176501b7fc5abe3372f.jpg" alt="10-1"></p><h3 id="æ­£ç¡®çš„solidityæ’å…¥æ’åº" tabindex="-1">æ­£ç¡®çš„solidityæ’å…¥æ’åº <a class="header-anchor" href="#æ­£ç¡®çš„solidityæ’å…¥æ’åº" aria-hidden="true">#</a></h3><p>èŠ±äº†å‡ ä¸ªå°æ—¶ï¼Œåœ¨<code>Dapp-Learning</code>ç¤¾ç¾¤ä¸€ä¸ªæœ‹å‹çš„å¸®åŠ©ä¸‹ï¼Œç»ˆäºæ‰¾åˆ°äº†<code>bug</code>æ‰€åœ¨ã€‚<code>solidity</code>ä¸­æœ€å¸¸ç”¨çš„å˜é‡ç±»å‹æ˜¯<code>uint</code>ï¼Œä¹Ÿå°±æ˜¯æ­£æ•´æ•°ï¼Œå–åˆ°è´Ÿå€¼çš„è¯ï¼Œä¼šæŠ¥<code>underflow</code>é”™è¯¯ã€‚è€Œåœ¨æ’å…¥ç®—æ³•ä¸­ï¼Œå˜é‡<code>j</code>æœ‰å¯èƒ½ä¼šå–åˆ°<code>-1</code>ï¼Œå¼•èµ·æŠ¥é”™ã€‚</p><p>è¿™é‡Œï¼Œæˆ‘ä»¬éœ€è¦æŠŠ<code>j</code>åŠ 1ï¼Œè®©å®ƒæ— æ³•å–åˆ°è´Ÿå€¼ã€‚æ­£ç¡®ä»£ç ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// æ’å…¥æ’åº æ­£ç¡®ç‰ˆ</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">insertionSort</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">[] </span><span style="color:#F97583;">memory</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">a</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">pure</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">returns</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">[] </span><span style="color:#F97583;">memory</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// </span><span style="color:#F97583;">note</span><span style="color:#6A737D;"> that uint can not take negative value</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> a.length;i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> temp </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> a[i];</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> j</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">i;</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">while</span><span style="color:#E1E4E8;">( (j </span><span style="color:#F97583;">&gt;=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> (temp </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> a[j</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">])){</span></span>
<span class="line"><span style="color:#E1E4E8;">                a[j] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> a[j</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"><span style="color:#E1E4E8;">                j</span><span style="color:#F97583;">--</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">            a[j] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> temp;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;">(a);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>è¿è¡Œåçš„ç»“æœï¼š</p><p><img src="https://images.mirror-media.xyz/publication-images/S-i6rwCMeXoi8eNJ0fRdB.png?height=300&amp;width=554" alt="&quot;è¾“å…¥[2,5,3,1] è¾“å‡º[1,2,3,5] &quot;"></p><h3 id="æ€»ç»“-8" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“-8" aria-hidden="true">#</a></h3><p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ä»‹ç»äº†<code>solidity</code>ä¸­æ§åˆ¶æµï¼Œå¹¶ä¸”ç”¨<code>solidity</code>å†™äº†æ’å…¥æ’åºã€‚çœ‹èµ·æ¥å¾ˆç®€å•ï¼Œä½†å®é™…å¾ˆéš¾ã€‚è¿™å°±æ˜¯<code>solidity</code>ï¼Œå‘å¾ˆå¤šï¼Œæ¯ä¸ªæœˆéƒ½æœ‰é¡¹ç›®å› ä¸ºè¿™äº›å°<code>bug</code>æŸå¤±å‡ åƒä¸‡ç”šè‡³ä¸Šäº¿ç¾å…ƒã€‚æŒæ¡å¥½åŸºç¡€ï¼Œä¸æ–­ç»ƒä¹ ï¼Œæ‰èƒ½å†™å‡ºæ›´å¥½çš„<code>solidity</code>ä»£ç ã€‚</p><h2 id="æ„é€ å‡½æ•°" tabindex="-1">æ„é€ å‡½æ•° <a class="header-anchor" href="#æ„é€ å‡½æ•°" aria-hidden="true">#</a></h2><p>æ„é€ å‡½æ•°ï¼ˆ<code>constructor</code>ï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ï¼Œæ¯ä¸ªåˆçº¦å¯ä»¥å®šä¹‰ä¸€ä¸ªï¼Œå¹¶åœ¨éƒ¨ç½²åˆçº¦çš„æ—¶å€™è‡ªåŠ¨è¿è¡Œä¸€æ¬¡ã€‚å®ƒå¯ä»¥ç”¨æ¥åˆå§‹åŒ–åˆçº¦çš„ä¸€äº›å‚æ•°ï¼Œä¾‹å¦‚åˆå§‹åŒ–åˆçº¦çš„<code>owner</code>åœ°å€ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">address</span><span style="color:#E1E4E8;"> owner; </span><span style="color:#6A737D;">// å®šä¹‰ownerå˜é‡</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#6A737D;">// æ„é€ å‡½æ•°</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">constructor</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">      owner </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">msg.sender</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// åœ¨éƒ¨ç½²åˆçº¦çš„æ—¶å€™ï¼Œå°†ownerè®¾ç½®ä¸ºéƒ¨ç½²è€…çš„åœ°å€</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>æ³¨æ„</strong>âš ï¸ï¼šæ„é€ å‡½æ•°åœ¨ä¸åŒçš„solidityç‰ˆæœ¬ä¸­çš„è¯­æ³•å¹¶ä¸ä¸€è‡´ï¼Œåœ¨Solidity 0.4.22ä¹‹å‰ï¼Œæ„é€ å‡½æ•°ä¸ä½¿ç”¨ <code>constructor</code> è€Œæ˜¯ä½¿ç”¨ä¸åˆçº¦ååŒåçš„å‡½æ•°ä½œä¸ºæ„é€ å‡½æ•°è€Œä½¿ç”¨ï¼Œç”±äºè¿™ç§æ—§å†™æ³•å®¹æ˜“ä½¿å¼€å‘è€…åœ¨ä¹¦å†™æ—¶å‘ç”Ÿç–æ¼ï¼ˆä¾‹å¦‚åˆçº¦åå« <code>Parents</code>ï¼Œæ„é€ å‡½æ•°åå†™æˆ <code>parents</code>ï¼‰ï¼Œä½¿å¾—æ„é€ å‡½æ•°å˜æˆæ™®é€šå‡½æ•°ï¼Œå¼•å‘æ¼æ´ï¼Œæ‰€ä»¥0.4.22ç‰ˆæœ¬åŠä¹‹åï¼Œé‡‡ç”¨äº†å…¨æ–°çš„ <code>constructor</code> å†™æ³•ã€‚</p><p>æ„é€ å‡½æ•°çš„æ—§å†™æ³•ä»£ç ç¤ºä¾‹ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#F97583;">pragma</span><span style="color:#E1E4E8;"> </span><span style="color:#85E89D;">solidity</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">=0.4.21</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">contract</span><span style="color:#B392F0;"> Parents</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// ä¸åˆçº¦åParentsåŒåçš„å‡½æ•°å°±æ˜¯æ„é€ å‡½æ•°</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Parents</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="ä¿®é¥°å™¨" tabindex="-1">ä¿®é¥°å™¨ <a class="header-anchor" href="#ä¿®é¥°å™¨" aria-hidden="true">#</a></h2><p>ä¿®é¥°å™¨ï¼ˆ<code>modifier</code>ï¼‰æ˜¯<code>solidity</code>ç‰¹æœ‰çš„è¯­æ³•ï¼Œç±»ä¼¼äºé¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„<code>decorator</code>ï¼Œå£°æ˜å‡½æ•°æ‹¥æœ‰çš„ç‰¹æ€§ï¼Œå¹¶å‡å°‘ä»£ç å†—ä½™ã€‚å®ƒå°±åƒé’¢é“ä¾ çš„æ™ºèƒ½ç›”ç”²ï¼Œç©¿ä¸Šå®ƒçš„å‡½æ•°ä¼šå¸¦æœ‰æŸäº›ç‰¹å®šçš„è¡Œä¸ºã€‚<code>modifier</code>çš„ä¸»è¦ä½¿ç”¨åœºæ™¯æ˜¯è¿è¡Œå‡½æ•°å‰çš„æ£€æŸ¥ï¼Œä¾‹å¦‚åœ°å€ï¼Œå˜é‡ï¼Œä½™é¢ç­‰ã€‚</p><p><img src="https://images.mirror-media.xyz/publication-images/nVwXsOVmrYu8rqvKKPMpg.jpg?height=630&amp;width=1200" alt="é’¢é“ä¾ çš„modifier"></p><p>æˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸ªå«åšonlyOwnerçš„modifierï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#6A737D;">// å®šä¹‰modifier</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">modifier</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onlyOwner</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">require</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">msg.sender</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> owner); </span><span style="color:#6A737D;">// æ£€æŸ¥è°ƒç”¨è€…æ˜¯å¦ä¸ºowneråœ°å€</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">_</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// å¦‚æœæ˜¯çš„è¯ï¼Œç»§ç»­è¿è¡Œå‡½æ•°ä¸»ä½“ï¼›å¦åˆ™æŠ¥é”™å¹¶revertäº¤æ˜“</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ä»£æœ‰<code>onlyOwner</code>ä¿®é¥°ç¬¦çš„å‡½æ•°åªèƒ½è¢«<code>owner</code>åœ°å€è°ƒç”¨ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">changeOwner</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">address</span><span style="color:#E1E4E8;"> _newOwner) </span><span style="color:#F97583;">external</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onlyOwner</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">      owner </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> _newOwner; </span><span style="color:#6A737D;">// åªæœ‰owneråœ°å€è¿è¡Œè¿™ä¸ªå‡½æ•°ï¼Œå¹¶æ”¹å˜owner</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª<code>changeOwner</code>å‡½æ•°ï¼Œè¿è¡Œä»–å¯ä»¥æ”¹å˜åˆçº¦çš„<code>owner</code>ï¼Œä½†æ˜¯ç”±äº<code>onlyOwner</code>ä¿®é¥°ç¬¦çš„å­˜åœ¨ï¼Œåªæœ‰åŸå…ˆçš„<code>owner</code>å¯ä»¥è°ƒç”¨ï¼Œåˆ«äººè°ƒç”¨å°±ä¼šæŠ¥é”™ã€‚è¿™ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„æ§åˆ¶æ™ºèƒ½åˆçº¦æƒé™çš„æ–¹æ³•ã€‚</p><h3 id="oppenzepplinçš„ownableæ ‡å‡†å®ç°" tabindex="-1">OppenZepplinçš„Ownableæ ‡å‡†å®ç°ï¼š <a class="header-anchor" href="#oppenzepplinçš„ownableæ ‡å‡†å®ç°" aria-hidden="true">#</a></h3><p><code>OppenZepplin</code>æ˜¯ä¸€ä¸ªç»´æŠ¤<code>solidity</code>æ ‡å‡†åŒ–ä»£ç åº“çš„ç»„ç»‡ï¼Œä»–çš„<code>Ownable</code>æ ‡å‡†å®ç°å¦‚ä¸‹ï¼š <a href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/access/Ownable.sol" target="_blank" rel="noreferrer">https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/access/Ownable.sol</a></p><h3 id="remix-æ¼”ç¤ºç¤ºä¾‹" tabindex="-1">Remix æ¼”ç¤ºç¤ºä¾‹ <a class="header-anchor" href="#remix-æ¼”ç¤ºç¤ºä¾‹" aria-hidden="true">#</a></h3><p>ä»¥ <code>Owner.sol</code> ä¸ºä¾‹ã€‚</p><ol><li>åœ¨ Remix ä¸Šç¼–è¯‘éƒ¨ç½²ä»£ç ã€‚</li><li>ç‚¹å‡» <code>owner</code> æŒ‰é’®æŸ¥çœ‹å½“å‰ owner å˜é‡ã€‚ <img src="https://www.wtf.academy/assets/images/11-1-158ba3a195f7ecc313538aae20c45658.jpg" alt="img"></li><li>ä»¥ owner åœ°å€çš„ç”¨æˆ·èº«ä»½ï¼Œè°ƒç”¨ <code>changeOwner</code> å‡½æ•°ï¼Œäº¤æ˜“æˆåŠŸã€‚ <img src="https://www.wtf.academy/assets/images/11-2-4127c92edede8fbe048358b699b57589.jpg" alt="img"></li><li>ä»¥é owner åœ°å€çš„ç”¨æˆ·èº«ä»½ï¼Œè°ƒç”¨ <code>changeOwner</code> å‡½æ•°ï¼Œäº¤æ˜“å¤±è´¥ï¼Œå› ä¸ºmodifier onlyOwner çš„æ£€æŸ¥è¯­å¥ä¸æ»¡è¶³ã€‚ <img src="https://www.wtf.academy/assets/images/11-3-c6c793034d8354ecf203513b644321df.jpg" alt="img"></li></ol><h3 id="æ€»ç»“-9" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“-9" aria-hidden="true">#</a></h3><p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ä»‹ç»äº†<code>solidity</code>ä¸­çš„æ„é€ å‡½æ•°å’Œä¿®é¥°ç¬¦ï¼Œå¹¶ä¸¾äº†ä¸€ä¸ªæ§åˆ¶åˆçº¦æƒé™çš„<code>Ownable</code>åˆçº¦ã€‚</p><h2 id="äº‹ä»¶" tabindex="-1">äº‹ä»¶ <a class="header-anchor" href="#äº‹ä»¶" aria-hidden="true">#</a></h2><p><code>Solidity</code>ä¸­çš„äº‹ä»¶ï¼ˆ<code>event</code>ï¼‰æ˜¯<code>EVM</code>ä¸Šæ—¥å¿—çš„æŠ½è±¡ï¼Œå®ƒå…·æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š</p><ul><li>å“åº”ï¼šåº”ç”¨ç¨‹åºï¼ˆ<a href="https://learnblockchain.cn/docs/ethers.js/api-contract.html#id18" target="_blank" rel="noreferrer"><code>ether.js</code></a>ï¼‰å¯ä»¥é€šè¿‡<code>RPC</code>æ¥å£è®¢é˜…å’Œç›‘å¬è¿™äº›äº‹ä»¶ï¼Œå¹¶åœ¨å‰ç«¯åšå“åº”ã€‚</li><li>ç»æµï¼šäº‹ä»¶æ˜¯<code>EVM</code>ä¸Šæ¯”è¾ƒç»æµçš„å­˜å‚¨æ•°æ®çš„æ–¹å¼ï¼Œæ¯ä¸ªå¤§æ¦‚æ¶ˆè€—2,000 <code>gas</code>ï¼›ç›¸æ¯”ä¹‹ä¸‹ï¼Œé“¾ä¸Šå­˜å‚¨ä¸€ä¸ªæ–°å˜é‡è‡³å°‘éœ€è¦20,000 <code>gas</code>ã€‚</li></ul><h3 id="è§„åˆ™" tabindex="-1">è§„åˆ™ <a class="header-anchor" href="#è§„åˆ™" aria-hidden="true">#</a></h3><p>äº‹ä»¶çš„å£°æ˜ç”±<code>event</code>å…³é”®å­—å¼€å¤´ï¼Œç„¶åè·Ÿäº‹ä»¶åç§°ï¼Œæ‹¬å·é‡Œé¢å†™å¥½äº‹ä»¶éœ€è¦è®°å½•çš„å˜é‡ç±»å‹å’Œå˜é‡åã€‚ä»¥<code>ERC20</code>ä»£å¸åˆçº¦çš„<code>Transfer</code>äº‹ä»¶ä¸ºä¾‹ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#F97583;">event</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Transfer</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">address</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">indexed</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">from</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">address</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">indexed</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">to</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">value</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ<code>Transfer</code>äº‹ä»¶å…±è®°å½•äº†3ä¸ªå˜é‡<code>from</code>ï¼Œ<code>to</code>å’Œ<code>value</code>ï¼Œåˆ†åˆ«å¯¹åº”ä»£å¸çš„è½¬è´¦åœ°å€ï¼Œæ¥æ”¶åœ°å€å’Œè½¬è´¦æ•°é‡ã€‚</p><p>åŒæ—¶<code>from</code>å’Œ<code>to</code>å‰é¢å¸¦ç€<code>indexed</code>å…³é”®å­—ï¼Œæ¯ä¸ª<code>indexed</code>æ ‡è®°çš„å˜é‡å¯ä»¥ç†è§£ä¸ºæ£€ç´¢äº‹ä»¶çš„ç´¢å¼•â€œé”®â€ï¼Œåœ¨ä»¥å¤ªåŠä¸Šå•ç‹¬ä½œä¸ºä¸€ä¸ª<code>topic</code>è¿›è¡Œå­˜å‚¨å’Œç´¢å¼•ï¼Œç¨‹åºå¯ä»¥è½»æ¾çš„ç­›é€‰å‡ºç‰¹å®šè½¬è´¦åœ°å€å’Œæ¥æ”¶åœ°å€çš„è½¬è´¦äº‹ä»¶ã€‚æ¯ä¸ªäº‹ä»¶æœ€å¤šæœ‰3ä¸ªå¸¦<code>indexed</code>çš„å˜é‡ã€‚æ¯ä¸ª <code>indexed</code> å˜é‡çš„å¤§å°ä¸ºå›ºå®šçš„256æ¯”ç‰¹ã€‚äº‹ä»¶çš„å“ˆå¸Œä»¥åŠè¿™ä¸‰ä¸ªå¸¦<code>indexed</code>çš„å˜é‡åœ¨<code>EVM</code>æ—¥å¿—ä¸­é€šå¸¸è¢«å­˜å‚¨ä¸º<code>topic</code>ã€‚å…¶ä¸­<code>topic[0]</code>æ˜¯æ­¤äº‹ä»¶çš„<code>keccak256</code>å“ˆå¸Œï¼Œ<code>topic[1]</code>åˆ°<code>topic[3]</code>å­˜å‚¨äº†å¸¦<code>indexed</code>å˜é‡çš„<code>keccak256</code>å“ˆå¸Œã€‚ <img src="https://www.wtf.academy/assets/images/12-3-b08311699b4378c7b077f1cd966b51e2.jpg" alt="img"></p><p><code>value</code> ä¸å¸¦ <code>indexed</code> å…³é”®å­—ï¼Œä¼šå­˜å‚¨åœ¨äº‹ä»¶çš„ <code>data</code> éƒ¨åˆ†ä¸­ï¼Œå¯ä»¥ç†è§£ä¸ºäº‹ä»¶çš„â€œå€¼â€ã€‚<code>data</code> éƒ¨åˆ†çš„å˜é‡ä¸èƒ½è¢«ç›´æ¥æ£€ç´¢ï¼Œä½†å¯ä»¥å­˜å‚¨ä»»æ„å¤§å°çš„æ•°æ®ã€‚å› æ­¤ä¸€èˆ¬ <code>data</code> éƒ¨åˆ†å¯ä»¥ç”¨æ¥å­˜å‚¨å¤æ‚çš„æ•°æ®ç»“æ„ï¼Œä¾‹å¦‚æ•°ç»„å’Œå­—ç¬¦ä¸²ç­‰ç­‰ï¼Œå› ä¸ºè¿™äº›æ•°æ®è¶…è¿‡äº†256æ¯”ç‰¹ï¼Œå³ä½¿å­˜å‚¨åœ¨äº‹ä»¶çš„ <code>topic</code> éƒ¨åˆ†ä¸­ï¼Œä¹Ÿæ˜¯ä»¥å“ˆå¸Œçš„æ–¹å¼å­˜å‚¨ã€‚å¦å¤–ï¼Œ<code>data</code> éƒ¨åˆ†çš„å˜é‡åœ¨å­˜å‚¨ä¸Šæ¶ˆè€—çš„gasç›¸æ¯”äº <code>topic</code> æ›´å°‘ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åœ¨å‡½æ•°é‡Œé‡Šæ”¾äº‹ä»¶ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæ¯æ¬¡ç”¨<code>_transfer()</code>å‡½æ•°è¿›è¡Œè½¬è´¦æ“ä½œçš„æ—¶å€™ï¼Œéƒ½ä¼šé‡Šæ”¾<code>Transfer</code>äº‹ä»¶ï¼Œå¹¶è®°å½•ç›¸åº”çš„å˜é‡ã€‚</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// å®šä¹‰_transferå‡½æ•°ï¼Œæ‰§è¡Œè½¬è´¦é€»è¾‘</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">_transfer</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">address</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">from</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">address</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">to</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">uint256</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">amount</span></span>
<span class="line"><span style="color:#E1E4E8;">    ) </span><span style="color:#F97583;">external</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">        _balances[from] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10000000</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// ç»™è½¬è´¦åœ°å€ä¸€äº›åˆå§‹ä»£å¸</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">        _balances[from] </span><span style="color:#F97583;">-=</span><span style="color:#E1E4E8;">  amount; </span><span style="color:#6A737D;">// fromåœ°å€å‡å»è½¬è´¦æ•°é‡</span></span>
<span class="line"><span style="color:#E1E4E8;">        _balances[to] </span><span style="color:#F97583;">+=</span><span style="color:#E1E4E8;"> amount; </span><span style="color:#6A737D;">// toåœ°å€åŠ ä¸Šè½¬è´¦æ•°é‡</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// é‡Šæ”¾äº‹ä»¶</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">emit</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Transfer</span><span style="color:#E1E4E8;">(from, to, amount);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="remix-æ¼”ç¤º" tabindex="-1">Remix æ¼”ç¤º <a class="header-anchor" href="#remix-æ¼”ç¤º" aria-hidden="true">#</a></h3><p>ä»¥ <code>Event.sol</code> åˆçº¦ä¸ºä¾‹ï¼Œç¼–è¯‘éƒ¨ç½²ã€‚</p><p>ç„¶åè°ƒç”¨ <code>_transfer</code> å‡½æ•°ã€‚ <img src="https://www.wtf.academy/assets/images/12-1-21d3090d03ff4dbb241e5810f2177fe8.jpg" alt="img"></p><p>ç‚¹å‡»å³ä¾§çš„äº¤æ˜“æŸ¥çœ‹è¯¦æƒ…ï¼Œå¯ä»¥çœ‹åˆ°æ—¥å¿—çš„å…·ä½“å†…å®¹ã€‚ <img src="https://www.wtf.academy/assets/images/12-2-4faa09c9994dc41555b86c1f023b4c38.jpg" alt="img"></p><h3 id="åœ¨etherscanä¸ŠæŸ¥è¯¢äº‹ä»¶" tabindex="-1">åœ¨etherscanä¸ŠæŸ¥è¯¢äº‹ä»¶ <a class="header-anchor" href="#åœ¨etherscanä¸ŠæŸ¥è¯¢äº‹ä»¶" aria-hidden="true">#</a></h3><p>æˆ‘ä»¬å°è¯•ç”¨<code>_transfer()</code>å‡½æ•°åœ¨<code>Rinkeby</code>æµ‹è¯•ç½‘ç»œä¸Šè½¬è´¦100ä»£å¸ï¼Œå¯ä»¥åœ¨<code>etherscan</code>ä¸ŠæŸ¥è¯¢åˆ°ç›¸åº”çš„<code>tx</code>ï¼š<a href="https://rinkeby.etherscan.io/tx/0x8cf87215b23055896d93004112bbd8ab754f081b4491cb48c37592ca8f8a36c7" target="_blank" rel="noreferrer">ç½‘å€</a>ã€‚</p><p>ç‚¹å‡»<code>Logs</code>æŒ‰é’®ï¼Œå°±èƒ½çœ‹åˆ°äº‹ä»¶æ˜ç»†ï¼š</p><p><img src="https://images.mirror-media.xyz/publication-images/gx6_wDMYEl8_Gc_JkTIKn.png?height=980&amp;width=1772" alt="Eventæ˜ç»†"></p><p><code>Topics</code>é‡Œé¢æœ‰ä¸‰ä¸ªå…ƒç´ ï¼Œ<code>[0]</code>æ˜¯è¿™ä¸ªäº‹ä»¶çš„å“ˆå¸Œï¼Œ<code>[1]</code>å’Œ<code>[2]</code>æ˜¯æˆ‘ä»¬å®šä¹‰çš„ä¸¤ä¸ª<code>indexed</code>å˜é‡çš„ä¿¡æ¯ï¼Œå³è½¬è´¦çš„è½¬å‡ºåœ°å€å’Œæ¥æ”¶åœ°å€ã€‚<code>Data</code>é‡Œé¢æ˜¯å‰©ä¸‹çš„ä¸å¸¦<code>indexed</code>çš„å˜é‡ï¼Œä¹Ÿå°±æ˜¯è½¬è´¦æ•°é‡ã€‚</p><h3 id="æ€»ç»“-10" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“-10" aria-hidden="true">#</a></h3><p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨å’ŒæŸ¥è¯¢<code>solidity</code>ä¸­çš„äº‹ä»¶ã€‚å¾ˆå¤šé“¾ä¸Šåˆ†æå·¥å…·åŒ…æ‹¬<code>Nansen</code>å’Œ<code>Dune Analysis</code>éƒ½æ˜¯åŸºäºäº‹ä»¶å·¥ä½œçš„ã€‚</p><h2 id="ç»§æ‰¿" tabindex="-1">ç»§æ‰¿ <a class="header-anchor" href="#ç»§æ‰¿" aria-hidden="true">#</a></h2><p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ä»‹ç»<code>solidity</code>ä¸­çš„ç»§æ‰¿ï¼ˆ<code>inheritance</code>ï¼‰ï¼ŒåŒ…æ‹¬ç®€å•ç»§æ‰¿ï¼Œå¤šé‡ç»§æ‰¿ï¼Œä»¥åŠä¿®é¥°å™¨ï¼ˆ<code>modifier</code>ï¼‰å’Œæ„é€ å‡½æ•°ï¼ˆ<code>constructor</code>ï¼‰çš„ç»§æ‰¿ã€‚</p><h3 id="è§„åˆ™-1" tabindex="-1">è§„åˆ™ <a class="header-anchor" href="#è§„åˆ™-1" aria-hidden="true">#</a></h3><ul><li><code>virtual</code>: çˆ¶åˆçº¦ä¸­çš„å‡½æ•°ï¼Œå¦‚æœå¸Œæœ›å­åˆçº¦é‡å†™ï¼Œéœ€è¦åŠ ä¸Š<code>virtual</code>å…³é”®å­—ã€‚</li><li><code>override</code>ï¼šå­åˆçº¦é‡å†™äº†çˆ¶åˆçº¦ä¸­çš„å‡½æ•°ï¼Œéœ€è¦åŠ ä¸Š<code>override</code>å…³é”®å­—ã€‚</li></ul><h3 id="ç®€å•ç»§æ‰¿" tabindex="-1">ç®€å•ç»§æ‰¿ <a class="header-anchor" href="#ç®€å•ç»§æ‰¿" aria-hidden="true">#</a></h3><p>æˆ‘ä»¬å…ˆå†™ä¸€ä¸ªç®€å•çš„çˆ·çˆ·åˆçº¦<code>Yeye</code>ï¼Œé‡Œé¢åŒ…å«1ä¸ª<code>Log</code>äº‹ä»¶å’Œ3ä¸ª<code>function</code>: <code>hip()</code>, <code>pop()</code>, <code>yeye()</code>ï¼Œè¾“å‡ºéƒ½æ˜¯â€Yeyeâ€ã€‚</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#F97583;">contract</span><span style="color:#B392F0;"> Yeye</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">event</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Log</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">msg</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// å®šä¹‰3ä¸ªfunction: hip(), pop(), man()ï¼ŒLogå€¼ä¸ºYeyeã€‚</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">hip</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">virtual</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">emit</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Yeye&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">pop</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">virtual</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">emit</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Yeye&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">yeye</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">virtual</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">emit</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Yeye&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>æˆ‘ä»¬å†å®šä¹‰ä¸€ä¸ªçˆ¸çˆ¸åˆçº¦<code>Baba</code>ï¼Œè®©ä»–ç»§æ‰¿<code>Yeye</code>åˆçº¦ï¼Œè¯­æ³•å°±æ˜¯<code>contract Baba is Yeye</code>ï¼Œéå¸¸ç›´è§‚ã€‚åœ¨<code>Baba</code>åˆçº¦é‡Œï¼Œæˆ‘ä»¬é‡å†™ä¸€ä¸‹<code>hip()</code>å’Œ<code>pop()</code>è¿™ä¸¤ä¸ªå‡½æ•°ï¼ŒåŠ ä¸Š<code>override</code>å…³é”®å­—ï¼Œå¹¶å°†ä»–ä»¬çš„è¾“å‡ºæ”¹ä¸º<code>â€Babaâ€</code>ï¼›å¹¶ä¸”åŠ ä¸€ä¸ªæ–°çš„å‡½æ•°<code>baba</code>ï¼Œè¾“å‡ºä¹Ÿæ˜¯<code>â€Babaâ€</code>ã€‚</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#F97583;">contract</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Baba</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">is</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Yeye</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// ç»§æ‰¿ä¸¤ä¸ªfunction: hip()å’Œpop()ï¼Œè¾“å‡ºæ”¹ä¸ºBabaã€‚</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">hip</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">virtual</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">override</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">emit</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Baba&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">pop</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">virtual</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">override</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">emit</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Baba&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">baba</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">virtual</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">emit</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Baba&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>æˆ‘ä»¬éƒ¨ç½²åˆçº¦ï¼Œå¯ä»¥çœ‹åˆ°<code>Baba</code>åˆçº¦é‡Œæœ‰4ä¸ªå‡½æ•°ï¼Œå…¶ä¸­<code>hip()</code>å’Œ<code>pop()</code>çš„è¾“å‡ºè¢«æˆåŠŸæ”¹å†™æˆ<code>â€Babaâ€</code>ï¼Œè€Œç»§æ‰¿æ¥çš„<code>yeye()</code>çš„è¾“å‡ºä»ç„¶æ˜¯<code>â€Yeyeâ€</code>ã€‚</p><h3 id="å¤šé‡ç»§æ‰¿" tabindex="-1">å¤šé‡ç»§æ‰¿ <a class="header-anchor" href="#å¤šé‡ç»§æ‰¿" aria-hidden="true">#</a></h3><p><code>solidity</code>çš„åˆçº¦å¯ä»¥ç»§æ‰¿å¤šä¸ªåˆçº¦ã€‚è§„åˆ™ï¼š</p><p>ç»§æ‰¿æ—¶è¦æŒ‰è¾ˆåˆ†æœ€é«˜åˆ°æœ€ä½çš„é¡ºåºæ’ã€‚æ¯”å¦‚æˆ‘ä»¬å†™ä¸€ä¸ª<code>Erzi</code>åˆçº¦ï¼Œç»§æ‰¿<code>Yeye</code>åˆçº¦å’Œ<code>Baba</code>åˆçº¦ï¼Œé‚£ä¹ˆå°±è¦å†™æˆ<code>contract Erzi is Yeye, Baba</code>ï¼Œè€Œä¸èƒ½å†™æˆ<code>contract Erzi is Baba, Yeye</code>ï¼Œä¸ç„¶å°±ä¼šæŠ¥é”™ã€‚ å¦‚æœæŸä¸€ä¸ªå‡½æ•°åœ¨å¤šä¸ªç»§æ‰¿çš„åˆçº¦é‡Œéƒ½å­˜åœ¨ï¼Œæ¯”å¦‚ä¾‹å­ä¸­çš„<code>hip()</code>å’Œ<code>pop()</code>ï¼Œåœ¨å­åˆçº¦é‡Œå¿…é¡»é‡å†™ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚ é‡å†™åœ¨å¤šä¸ªçˆ¶åˆçº¦ä¸­éƒ½é‡åçš„å‡½æ•°æ—¶ï¼Œ<code>override</code>å…³é”®å­—åé¢è¦åŠ ä¸Šæ‰€æœ‰çˆ¶åˆçº¦åå­—ï¼Œä¾‹å¦‚<code>override(Yeye, Baba)</code>ã€‚ ä¾‹å­ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#F97583;">contract</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Erzi</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">is</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Yeye</span><span style="color:#E1E4E8;">, </span><span style="color:#B392F0;">Baba</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// ç»§æ‰¿ä¸¤ä¸ªfunction: hip()å’Œpop()ï¼Œè¾“å‡ºå€¼ä¸ºErziã€‚</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">hip</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">virtual</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">override</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">Yeye</span><span style="color:#E1E4E8;">, </span><span style="color:#B392F0;">Baba</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">emit</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Erzi&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">pop</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">virtual</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">override</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">Yeye</span><span style="color:#E1E4E8;">, </span><span style="color:#B392F0;">Baba</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">emit</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Erzi&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ<code>Erzi</code>åˆçº¦é‡Œé¢é‡å†™äº†<code>hip()</code>å’Œ<code>pop()</code>ä¸¤ä¸ªå‡½æ•°ï¼Œå°†è¾“å‡ºæ”¹ä¸º<code>â€Erziâ€</code>ï¼Œå¹¶ä¸”è¿˜åˆ†åˆ«ä»<code>Yeye</code>å’Œ<code>Baba</code>åˆçº¦ç»§æ‰¿äº†<code>yeye()</code>å’Œ<code>baba()</code>ä¸¤ä¸ªå‡½æ•°ã€‚</p><h3 id="ä¿®é¥°å™¨çš„ç»§æ‰¿" tabindex="-1">ä¿®é¥°å™¨çš„ç»§æ‰¿ <a class="header-anchor" href="#ä¿®é¥°å™¨çš„ç»§æ‰¿" aria-hidden="true">#</a></h3><p><code>Solidity</code>ä¸­çš„ä¿®é¥°å™¨ï¼ˆ<code>Modifier</code>ï¼‰åŒæ ·å¯ä»¥ç»§æ‰¿ï¼Œç”¨æ³•ä¸å‡½æ•°ç»§æ‰¿ç±»ä¼¼ï¼Œåœ¨ç›¸åº”çš„åœ°æ–¹åŠ <code>virtual</code>å’Œ<code>override</code>å…³é”®å­—å³å¯ã€‚</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#F97583;">contract</span><span style="color:#B392F0;"> Base1</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">modifier</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">exactDividedBy2And3</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> _a) </span><span style="color:#F97583;">virtual</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">require</span><span style="color:#E1E4E8;">(_a % </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> _a % </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">_</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">contract</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Identifier</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">is</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Base1</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//è®¡ç®—ä¸€ä¸ªæ•°åˆ†åˆ«è¢«2é™¤å’Œè¢«3é™¤çš„å€¼ï¼Œä½†æ˜¯ä¼ å…¥çš„å‚æ•°å¿…é¡»æ˜¯2å’Œ3çš„å€æ•°</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getExactDividedBy2And3</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> _dividend) </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">exactDividedBy2And3</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">_dividend</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">pure</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">returns</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getExactDividedBy2And3WithoutModifier</span><span style="color:#E1E4E8;">(_dividend);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//è®¡ç®—ä¸€ä¸ªæ•°åˆ†åˆ«è¢«2é™¤å’Œè¢«3é™¤çš„å€¼</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getExactDividedBy2And3WithoutModifier</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> _dividend) </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">pure</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">returns</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> div2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> _dividend </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> div3 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> _dividend </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (div2, div3);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><code>Identifier</code>åˆçº¦å¯ä»¥ç›´æ¥åœ¨ä»£ç ä¸­ä½¿ç”¨çˆ¶åˆçº¦ä¸­çš„<code>exactDividedBy2And3</code>ä¿®é¥°å™¨ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨<code>override</code>å…³é”®å­—é‡å†™ä¿®é¥°å™¨ï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">modifier</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">exactDividedBy2And3</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> _a) </span><span style="color:#F97583;">override</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">_</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">require</span><span style="color:#E1E4E8;">(_a % </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> _a % </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="æ„é€ å‡½æ•°çš„ç»§æ‰¿" tabindex="-1">æ„é€ å‡½æ•°çš„ç»§æ‰¿ <a class="header-anchor" href="#æ„é€ å‡½æ•°çš„ç»§æ‰¿" aria-hidden="true">#</a></h3><p>å­åˆçº¦æœ‰ä¸¤ç§æ–¹æ³•ç»§æ‰¿çˆ¶åˆçº¦çš„æ„é€ å‡½æ•°ã€‚ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œçˆ¶åˆçº¦<code>A</code>é‡Œé¢æœ‰ä¸€ä¸ªçŠ¶æ€å˜é‡<code>a</code>ï¼Œå¹¶ç”±æ„é€ å‡½æ•°çš„å‚æ•°æ¥ç¡®å®šï¼š</p><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// æ„é€ å‡½æ•°çš„ç»§æ‰¿</span></span>
<span class="line"><span style="color:#F97583;">abstract</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">contract</span><span style="color:#B392F0;"> A</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> a;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">constructor</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> _a) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        a </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> _a;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ol><li>åœ¨ç»§æ‰¿æ—¶å£°æ˜çˆ¶æ„é€ å‡½æ•°çš„å‚æ•°ï¼Œä¾‹å¦‚ï¼š<code>contract B is A(1)</code></li><li>åœ¨å­åˆçº¦çš„æ„é€ å‡½æ•°ä¸­å£°æ˜æ„é€ å‡½æ•°çš„å‚æ•°ï¼Œä¾‹å¦‚ï¼š</li></ol><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#F97583;">contract</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">C</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">is</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">A</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">constructor</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">uint</span><span style="color:#E1E4E8;"> _c) </span><span style="color:#B392F0;">A</span><span style="color:#E1E4E8;">(_c * _c) {}</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="è°ƒç”¨çˆ¶åˆçº¦çš„å‡½æ•°" tabindex="-1">è°ƒç”¨çˆ¶åˆçº¦çš„å‡½æ•° <a class="header-anchor" href="#è°ƒç”¨çˆ¶åˆçº¦çš„å‡½æ•°" aria-hidden="true">#</a></h3><p>å­åˆçº¦æœ‰ä¸¤ç§æ–¹å¼è°ƒç”¨çˆ¶åˆçº¦çš„å‡½æ•°ï¼Œç›´æ¥è°ƒç”¨å’Œåˆ©ç”¨<code>super</code>å…³é”®å­—ã€‚</p><ol><li>ç›´æ¥è°ƒç”¨ï¼šå­åˆçº¦å¯ä»¥ç›´æ¥ç”¨<code>çˆ¶åˆçº¦å.å‡½æ•°å()</code>çš„æ–¹å¼æ¥è°ƒç”¨çˆ¶åˆçº¦å‡½æ•°ï¼Œä¾‹å¦‚<code>Yeye.pop()</code>ã€‚</li></ol><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">callParent</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        Yeye.</span><span style="color:#B392F0;">pop</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol><li><code>super</code>å…³é”®å­—ï¼šå­åˆçº¦å¯ä»¥åˆ©ç”¨<code>super.å‡½æ•°å()</code>æ¥è°ƒç”¨æœ€è¿‘çš„çˆ¶åˆçº¦å‡½æ•°ã€‚<code>solidity</code>ç»§æ‰¿å…³ç³»æŒ‰å£°æ˜æ—¶ä»å³åˆ°å·¦çš„é¡ºåºæ˜¯ï¼š<code>contract Erzi is Yeye, Baba</code>ï¼Œé‚£ä¹ˆ<code>Baba</code>æ˜¯æœ€è¿‘çš„çˆ¶åˆçº¦ï¼Œ<code>super.pop()</code>å°†è°ƒç”¨<code>Baba.pop()</code>è€Œä¸æ˜¯<code>Yeye.pop()</code>ï¼š</li></ol><div class="language-solidity line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki github-dark" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">callParentSuper</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// å°†è°ƒç”¨æœ€è¿‘çš„çˆ¶åˆçº¦å‡½æ•°ï¼ŒBaba.pop()</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">pop</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="åœ¨remixä¸ŠéªŒè¯-4" tabindex="-1">åœ¨Remixä¸ŠéªŒè¯ <a class="header-anchor" href="#åœ¨remixä¸ŠéªŒè¯-4" aria-hidden="true">#</a></h3><ul><li>åˆçº¦ç®€å•ç»§æ‰¿ç¤ºä¾‹, å¯ä»¥è§‚å¯Ÿåˆ°Babaåˆçº¦å¤šäº†Yeyeçš„å‡½æ•° <img src="https://www.wtf.academy/assets/images/13-1-42f0a6c7cc188762c41239403eb84e8b.png" alt="13-1"><img src="https://www.wtf.academy/assets/images/13-2-9c0be37c4fab16f90c39580cbbead5ed.png" alt="13-2"></li><li>åˆçº¦å¤šé‡ç»§æ‰¿å¯ä»¥å‚è€ƒç®€å•ç»§æ‰¿çš„æ“ä½œæ­¥éª¤æ¥å¢åŠ éƒ¨ç½²Erziåˆçº¦ï¼Œç„¶åè§‚å¯Ÿæš´éœ²çš„å‡½æ•°ä»¥åŠå°è¯•è°ƒç”¨æ¥æŸ¥çœ‹æ—¥å¿—</li><li>ä¿®é¥°å™¨ç»§æ‰¿ç¤ºä¾‹ <img src="https://www.wtf.academy/assets/images/13-3-7fb3ed386135bd918b84cd92949884a4.png" alt="13-3"><img src="https://www.wtf.academy/assets/images/13-4-c578cff17c65f768d1505da77c3cac0c.png" alt="13-4"><img src="https://www.wtf.academy/assets/images/13-5-58a3d5a358dbda0ffb40afb626801005.png" alt="13-5"></li><li>æ„é€ å‡½æ•°ç»§æ‰¿ç¤ºä¾‹ <img src="https://www.wtf.academy/assets/images/13-6-099cd67439dcb0194684557cc1e29289.png" alt="13-6"><img src="https://www.wtf.academy/assets/images/13-7-2c772dcd6711e67afd51118ae7ded35e.png" alt="13-7"></li><li>è°ƒç”¨çˆ¶åˆçº¦ç¤ºä¾‹ <img src="https://www.wtf.academy/assets/images/13-8-dcc83777980c789aec12ff8467b8d51f.png" alt="13-8"><img src="https://www.wtf.academy/assets/images/13-9-49f35bff8cf0343cbbce2dd8fe9d3c59.png" alt="13-9"></li></ul><h3 id="æ€»ç»“-11" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“-11" aria-hidden="true">#</a></h3><p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ä»‹ç»äº†<code>solidity</code>ç»§æ‰¿çš„åŸºæœ¬ç”¨æ³•ï¼ŒåŒ…æ‹¬ç®€å•ç»§æ‰¿ï¼Œå¤šé‡ç»§æ‰¿ï¼Œä¿®é¥°å™¨å’Œæ„é€ å‡½æ•°çš„ç»§æ‰¿ï¼Œä»¥åŠè°ƒç”¨çˆ¶åˆçº¦ä¸­çš„å‡½æ•°ã€‚</p>`,345),o=[p];function c(r,t,i,E,d,y){return a(),n("div",null,o)}const F=s(e,[["render",c]]);export{u as __pageData,F as default};
